{"version":3,"sources":["components/Users/Users.module.css","components/elements/Paginator.module.css","assets/images/user.png","components/Users/User.tsx","assets/images/angleRightSolid.svg","assets/images/angleLeftSolid.svg","components/elements/Paginator.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","redux/usersSelector.ts","components/Users/UsersContainer.tsx"],"names":["module","exports","User","id","photo","name","status","followed","follow","unfollow","followingInProgress","className","style","block","s","to","userPhoto","src","alt","Avatar","container","user","userName","button","BigButton","disabled","some","userId","value","click","Paginator","itemsCount","itemsCountOnPage","currentPage","onPageChanged","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","leftArrow","filter","p","map","rightArrow","usersSearchFormValidate","UsersSearchForm","React","memo","onFilterChanged","usersSearch","initialValues","term","friend","validate","onSubmit","values","setSubmitting","isSubmitting","type","as","Users","usersCount","usersCountOnPage","users","props","usersItems","u","photos","large","usersPage","getUsers","state","getUsersCount","getUsersCountOnPage","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getUserFilter","UsersAPIComponent","componentDidMount","pageNumber","render","Preloader","Component","UsersContainer","connect","responseUsers"],"mappings":"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","file":"static/js/4.2522f5e4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Users_pages__2ZPtK\",\"usersPage\":\"Users_usersPage__3xdAn\",\"block\":\"Users_block__1re8X\",\"userPhoto\":\"Users_userPhoto__17MJB\",\"container\":\"Users_container__6F9oG\",\"user\":\"Users_user__1dQYj\",\"userName\":\"Users_userName__1mt5V\",\"status\":\"Users_status__E0SMG\",\"button\":\"Users_button__1saaY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Paginator_container__f8TvL\",\"pages\":\"Paginator_pages__2kyJo\",\"currentPage\":\"Paginator_currentPage__240Ug\",\"button\":\"Paginator_button__3aJZ7\"};","export default __webpack_public_path__ + \"static/media/user.03b91692.png\";","import React from 'react';\nimport BigButton from '../elements/BigButton';\nimport s from './Users.module.css'\nimport style from '../../Style.module.css';\nimport userPhoto from '../../assets/images/user.png';\nimport { NavLink } from 'react-router-dom';\n\ntype PropsType = {\n\tid: number\n\tphoto: string | null\n\tname: string\n\tstatus: string | null\n\tfollowed: boolean\n\tfollowingInProgress: Array<number>\n\n\tfollow: (userId: number) => void\n\tunfollow: (userId: number) => void\n}\n\nconst User: React.FC<PropsType> = ({ id, photo, name, status, followed, follow, unfollow, followingInProgress }) => {\n\treturn (\n\t\t<div className={style.block + ' ' + s.block} >\n\t\t\t<NavLink to={`/profile/` + id}>\n\t\t\t\t<div className={s.userPhoto}>\n\t\t\t\t\t<img src={(photo) ? photo : userPhoto} alt={s.Avatar}></img>\n\t\t\t\t</div>\n\t\t\t</NavLink>\n\t\t\t<div className={s.container}>\n\t\t\t\t<div className={s.user}>\n\t\t\t\t\t<div className={s.userName}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</div>\n\t\t\t\t\t{status\n\t\t\t\t\t\t? <div className={s.status}><span>{status}</span></div>\n\t\t\t\t\t\t: <></>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.button}>\n\t\t\t\t\t{followed\n\t\t\t\t\t\t? <BigButton disabled={followingInProgress.some(userId => userId === id)} value='unfollow'\n\t\t\t\t\t\t\tclick={() => { unfollow(id) }} />\n\t\t\t\t\t\t: <BigButton disabled={followingInProgress.some(userId => userId === id)} value='follow'\n\t\t\t\t\t\t\tclick={() => { follow(id) }} />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\nexport default User;","export default __webpack_public_path__ + \"static/media/angleRightSolid.7d1c04c1.svg\";","export default __webpack_public_path__ + \"static/media/angleLeftSolid.bb631305.svg\";","import React, { useState } from \"react\";\nimport s from './Paginator.module.css';\nimport rightArrow from '../../assets/images/angleRightSolid.svg';\nimport leftArrow from '../../assets/images/angleLeftSolid.svg';\n\ntype PropsType = {\n\titemsCount: number\n\titemsCountOnPage: number\n\tcurrentPage: number\n\n\tonPageChanged: (pageNumber: number) => void\n}\n\nexport const Paginator: React.FC<PropsType> = ({ itemsCount, itemsCountOnPage, currentPage, onPageChanged }) => {\n\tlet pageCount = Math.ceil(itemsCount / itemsCountOnPage);\n\n\tlet pages = [];\n\tif (currentPage) {\n\t\tfor (let i = 1; i <= pageCount; i++) {\n\t\t\tpages.push(i)\n\t\t}\n\t}\n\tlet portionSize = 10;\n\tlet portionCount = Math.ceil(pageCount / portionSize);\n\tlet [portionNumber, setPortionNumber] = useState(1);\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tlet rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn <div className={s.container}>\n\n\t\t<button onClick={() => setPortionNumber(--portionNumber)} className={s.button}>\n\t\t\t{portionNumber > 1 && <img src={leftArrow} alt='leftArrow' />}\n\t\t</button>\n\t\t<div className={s.pages}>\n\t\t\t{pages\n\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n\t\t\t\t.map(p => <span className={p === currentPage ? s.currentPage : ''}\n\t\t\t\t\tonClick={() => { onPageChanged(p) }} key={p}>{p}</span>)}\n\t\t</div>\n\t\t<button onClick={() => setPortionNumber(++portionNumber)} className={s.button}>\n\t\t\t{portionNumber < portionCount && <img src={rightArrow} alt='rightArrow' />}\n\t\t</button>\n\t</div>\n}\n\nexport default Paginator;","import React from \"react\";\nimport s from \"./Users.module.css\";\nimport { Field, Form, Formik } from \"formik\";\nimport { FilterType } from \"../../redux/UsersReducer\";\n\nconst usersSearchFormValidate = () => {\n  const errors = {};\n  return errors;\n};\n\ntype PropsType = {\n  onFilterChanged: (filter: FilterType) => void;\n};\n\nconst UsersSearchForm: React.FC<PropsType> = React.memo(\n  ({ onFilterChanged }) => {\n    const submit = (\n      values: FilterType,\n      { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }\n    ) => {\n      onFilterChanged(values);\n      setSubmitting(false);\n    };\n\n    return (\n      <div className={s.usersSearch}>\n        <Formik\n          initialValues={{ term: \"\", friend: \"\" }}\n          validate={usersSearchFormValidate}\n          onSubmit={submit}\n        >\n          {({ isSubmitting }) => (\n            <Form>\n              <Field type='term' name='term' />\n              <Field as='select' name='friend'>\n                <option value='null'>All</option>\n                <option value='true'>Only followed</option>\n                <option value='false'>Only unfollowed</option>\n              </Field>\n              <button type='submit' disabled={isSubmitting}>\n                Search\n              </button>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    );\n  }\n);\n\nexport default UsersSearchForm;\n","import React from \"react\";\nimport s from \"./Users.module.css\";\nimport User from \"./User\";\nimport Paginator from \"../elements/Paginator\";\nimport { UserType } from \"../../type/type\";\nimport UsersSearchForm from \"./UsersSearchForm\";\nimport { FilterType } from \"../../redux/UsersReducer\";\n\ntype PropsType = {\n  usersCount: number;\n  usersCountOnPage: number;\n  currentPage: number;\n  users: Array<UserType>;\n  followingInProgress: Array<number>;\n\n  unfollow: (userId: number) => void;\n  follow: (userId: number) => void;\n  onPageChanged: (pageNumber: number) => void;\n  onFilterChanged: (filter: FilterType) => void;\n};\n\nconst Users: React.FC<PropsType> = ({\n  usersCount,\n  usersCountOnPage,\n  currentPage,\n  users,\n  onPageChanged,\n  onFilterChanged,\n  ...props\n}) => {\n  let usersItems = users.map((u) => (\n    <User\n      key={u.id}\n      id={u.id}\n      name={u.name}\n      photo={u.photos.large}\n      status={u.status}\n      followed={u.followed}\n      followingInProgress={props.followingInProgress}\n      unfollow={props.unfollow}\n      follow={props.follow}\n    />\n  ));\n\n  return (\n    <div>\n      <UsersSearchForm onFilterChanged={onFilterChanged} />\n      <div className={s.pages}>\n        <Paginator\n          itemsCount={usersCount}\n          itemsCountOnPage={usersCountOnPage}\n          currentPage={currentPage}\n          onPageChanged={onPageChanged}\n        />\n      </div>\n      <div className={s.usersPage}>{usersItems}</div>\n    </div>\n  );\n};\n\nexport default Users;\n","import { AppStateType } from \"./ReduxStore\";\n\nexport const getUsers = (state: AppStateType) => {\n\treturn state.usersPage.users;\n}\n\nexport const getUsersCount = (state: AppStateType) => {\n\treturn state.usersPage.usersCount;\n}\n\nexport const getUsersCountOnPage = (state: AppStateType) => {\n\treturn state.usersPage.usersCountOnPage;\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n\treturn state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n\treturn state.usersPage.followingInProgress;\n}\n\nexport const getUserFilter = (state: AppStateType) => {\n\treturn state.usersPage.filter;\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  follow,\n  unfollow,\n  responseUsers,\n  FilterType,\n} from \"../../redux/UsersReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../elements/Preloader\";\nimport {\n  getCurrentPage,\n  getFollowingInProgress,\n  getIsFetching,\n  getUserFilter,\n  getUsers,\n  getUsersCount,\n  getUsersCountOnPage,\n} from \"../../redux/usersSelector\";\nimport { AppStateType } from \"../../redux/ReduxStore\";\nimport { UserType } from \"../../type/type\";\n\ntype MapStatePropsType = {\n  usersCountOnPage: number;\n  currentPage: number;\n  isFetching: boolean;\n  usersCount: number;\n  users: Array<UserType>;\n  followingInProgress: Array<number>;\n  filter: FilterType;\n};\n\ntype MapDispatchToProps = {\n  getUsers: (\n    usersCountOnPage: number,\n    currentPage: number,\n    filter: FilterType\n  ) => void;\n  follow: (userId: number) => void;\n  unfollow: (userId: number) => void;\n};\n\ntype PropsType = MapStatePropsType & MapDispatchToProps;\n\nclass UsersAPIComponent extends React.Component<PropsType> {\n  componentDidMount = () => {\n    this.props.getUsers(this.props.usersCountOnPage, this.props.currentPage, {\n      term: \"\",\n      friend: \"\",\n    });\n  };\n  onPageChanged = (pageNumber: number) => {\n    this.props.getUsers(\n      this.props.usersCountOnPage,\n      pageNumber,\n      this.props.filter\n    );\n  };\n  onFilterChanged = (filter: FilterType) => {\n    this.props.getUsers(this.props.usersCountOnPage, 1, filter);\n  };\n  render = () => {\n    return (\n      <>\n        {this.props.isFetching ? (\n          <Preloader />\n        ) : (\n          <Users\n            usersCount={this.props.usersCount}\n            usersCountOnPage={this.props.usersCountOnPage}\n            currentPage={this.props.currentPage}\n            users={this.props.users}\n            followingInProgress={this.props.followingInProgress}\n            follow={this.props.follow}\n            unfollow={this.props.unfollow}\n            onPageChanged={this.onPageChanged}\n            onFilterChanged={this.onFilterChanged}\n          />\n        )}\n        ;\n      </>\n    );\n  };\n}\n\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\n  return {\n    users: getUsers(state),\n    usersCount: getUsersCount(state),\n    usersCountOnPage: getUsersCountOnPage(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state),\n    filter: getUserFilter(state),\n  };\n};\n\nconst UsersContainer = connect(mapStateToProps, {\n  follow,\n  unfollow,\n  getUsers: responseUsers,\n})(UsersAPIComponent);\n\nexport default UsersContainer;\n"],"sourceRoot":""}