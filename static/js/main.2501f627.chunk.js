(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(48),a=n(3),s="dialogs_ADD_MESSAGE",c={dialogsData:[{id:1,name:"Perec",avatar:"https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg"},{id:2,name:"Vasia",avatar:"http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg"},{id:3,name:"Vova",avatar:"https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg"},{id:4,name:"Anton",avatar:"https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg"}],messages:[{id:1,message:"hi!",from:"friend"},{id:2,message:"How is your programing?",from:"friend"},{id:3,message:"Ok",from:"mi"},{id:4,message:"Cool!",from:"friend"},{id:5,message:"Some log message. skfjnvksv sdoiv csodifvjc skdjvn sdfcjvsfldkv dsfkv dfkjnvd kfjvnd",from:"mi"}]},i=function(e){return{type:s,message:e.textMessage}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:++e.messages.length,message:t.message,from:"mi"}])});default:return e}}},11:function(e,t,n){e.exports={container:"Style_container__2zXzS",block:"Style_block__2NKmM",blockName:"Style_blockName__1y7Ic",comingSoon:"Style_comingSoon__1sOMO",errorSubmitForm:"Style_errorSubmitForm__1L_4y"}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(18),s=n(20),c=n(19),i=n(1),o=n.n(i),u=n(13),l=n(12),d=n(0),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(s.a)(i,t);var n=Object(c.a)(i);function i(){var t;Object(a.a)(this,i);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))).render=function(){return t.props.isAuth?Object(d.jsx)(e,Object(r.a)({},t.props)):Object(d.jsx)(l.a,{to:"/login"})},t}return i}(o.a.Component);return Object(u.b)(p)(t)}},132:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return y}));var r=n(10),a=n.n(r),s=n(22),c=n(48),i=n(3),o=n(14),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},l="user_FOLLOW",d="user_UNFOLLOW",p="user_SET_USERS",f="user_SET_PAGE_NUMBER",j="user_SET_USERS_COUNT",b="user_SET_FETCHING",h="user_TOGGLE_IS_FOLLOWING",m={users:[],usersCount:0,usersCountOnPage:12,currentPage:1,isFetching:!1,isFollowing:[]},O=function(e){return{type:l,userId:e}},g=function(e){return{type:d,userId:e}},_=function(e){return{type:p,users:e}},v=function(e){return{type:f,pageNumber:e}},x=function(e){return{type:j,usersCount:e}},N=function(e){return{type:b,fetching:e}},k=function(e,t){return{type:h,isFollowing:e,userId:t}},P=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(N(!0)),r(v(t)),n.next=4,o.c.getUsers(e,t);case 4:s=n.sent,r(N(!1)),r(_(s.items)),r(x(s.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(s(t)),n(k(!1,t));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,n,o.c.unfollow.bind(o.c),g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,n,o.c.follow.bind(o.c),O);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case p:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case f:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.pageNumber});case j:return Object(i.a)(Object(i.a)({},e),{},{usersCount:t.usersCount});case b:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.fetching});case h:return Object(i.a)(Object(i.a)({},e),{},{isFollowing:t.isFollowing?[].concat(Object(c.a)(e.isFollowing),[t.userId]):e.isFollowing.filter((function(e){return e!==t.userId}))});default:return e}}},137:function(e,t,n){e.exports={container:"ProfileIntro_container__1Nlan"}},138:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(133),a=n.n(r).a.create({withCredentials:!0,headers:{"API-KEY":"65f23381-a001-469d-b8d8-33dccd7a4fd2"},baseURL:"https://social-network.samuraijs.com/api/1.0"}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.get("/users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("/follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return a.delete("/follow/".concat(e)).then((function(e){return e.data}))}},c={getAuth:function(){return a.get("/auth/me").then((function(e){return e.data}))},logIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},logOut:function(){return a.delete("/auth/login").then((function(e){return e.data}))},getCaptcha:function(){return a.get("/security/get-captcha-url").then((function(e){return e.data}))}},i={getUser:function(e){return a.get("/profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return a.get("/profile/status/"+e).then((function(e){return e.data}))},setStatus:function(e){return a.put("/profile/status",{status:e})},setProfileInfo:function(e){return a.put("/profile",e)},setPhoto:function(e){var t=new FormData;return t.append("image",e),a.put("/profile/photo",t,{headers:{"content-type":"multipart/form-data"}})}}},140:function(e,t,n){},141:function(e,t,n){e.exports={preloader:"Preloader_preloader__SMTGm"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",wallpaper:"Navbar_wallpaper__1DlQr",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE",menu:"Navbar_menu__NKpxG",menuLeft:"Navbar_menuLeft__1-CBC",menuRight:"Navbar_menuRight__1hhAo",userBlock:"Navbar_userBlock__yi49o",userPhoto:"Navbar_userPhoto__2OkdO",userName:"Navbar_userName__3NVEZ",status:"Navbar_status__2Q0dS",photoUpload:"Navbar_photoUpload__1tWKu",menuPhoto:"Navbar_menuPhoto__3B8Vs",container:"Navbar_container__1ESpZ",label:"Navbar_label__2vojo",uploadFileText:"Navbar_uploadFileText__iYdut",uploadFileInput:"Navbar_uploadFileInput__1526y"}},16:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87",login:"Header_login__3V3Qa",logo:"Header_logo__3_SJs",mainName:"Header_mainName__1HPVb",secondName:"Header_secondName__2K9lp",search:"Header_search__ckDys",freeSpace:"Header_freeSpace__2bhUy",menuList:"Header_menuList__3jhVl",menuLink:"Header_menuLink__ig-eX",user:"Header_user__1QDl1",arrow:"Header_arrow__1S-AG",menu:"Header_menu__BQHSW",userPhoto:"Header_userPhoto__3zN07",controlBlock:"Header_controlBlock__14paH",name:"Header_name__2-9cn",status:"Header_status__2bL1G"}},24:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return l}));var r=function(e){return e.profilePage.userProfile},a=function(e){return e.sidebar.friends},s=function(e){return e.profilePage.posts},c=function(e){return e.profilePage.userProfile.fullName},i=function(e){return e.profilePage.userProfile.userId},o=function(e){return e.profilePage.userProfile.status},u=function(e){return e.profilePage.userProfile.photos.small},l=function(e){return e.profilePage.isFetching}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.captchaURL},s=function(e){return e.auth.userId},c=function(e){return e.auth.login},i=function(e){return e.auth.status},o=function(e){return e.auth.profile},u=function(e){return e.auth.profile.photos.small},l=function(e){return e.auth.isLoading}},250:function(e,t,n){},251:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return k})),n.d(t,"g",(function(){return P}));var r=n(10),a=n.n(r),s=n(22),c=n(3),i=n(43),o=n(14),u="auth_USER_AUTH",l="auth_GET_STATUS",d="auth_USER_DATA",p="auth_SET_LOADING",f="auth_SET_USER_PHOTO_SUCCESS",j="auth_SET_CAPTCHA_URL",b={userId:null,login:null,email:null,captchaURL:null,isAuth:!1,isLoading:!1,status:null,profile:{photos:{},contacts:{}}},h=function(e,t,n,r){return{type:u,data:{userId:e,login:t,email:n,isAuth:r}}},m=function(e){return{type:l,status:e}},O=function(e){return{type:d,data:{data:e}}},g=function(e){return{type:p,loading:e}},_=function(e){return{type:j,captchaURL:e}},v=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,i,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_(null)),e.next=3,o.a.getAuth();case 3:if(0===(n=e.sent).resultCode){e.next=6;break}return e.abrupt("return");case 6:return r=n.data,s=r.id,c=r.login,i=r.email,t(h(s,c,i,!0)),e.next=10,o.b.getUser(s);case 10:return u=e.sent,t(O(u)),e.next=14,o.b.getStatus(u.userId);case 14:l=e.sent,t(m(l));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g(!0)),t.next=3,o.b.setStatus(e);case 3:if(r=t.sent,n(g(!1)),0===r.data.resultCode){t.next=7;break}return t.abrupt("return");case 7:n(m(e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t,n,r){return function(){var c=Object(s.a)(a.a.mark((function s(c){var u,l,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.logIn(e,t,n,r);case 2:if(0!==(u=a.sent).resultCode){a.next=7;break}c(v()),a.next=14;break;case 7:if(10!==u.resultCode){a.next=12;break}return a.next=10,o.a.getCaptcha();case 10:l=a.sent,c(_(l.url));case 12:d=Object(i.a)("login",{_error:u.messages}),c(d);case 14:case"end":return a.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}()},k=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logOut();case 2:if(0===e.sent.resultCode){e.next=5;break}return e.abrupt("return");case 5:t(h(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.setPhoto(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=5;break}return t.abrupt("return");case 5:n((a=r.data.data.photos,{type:f,photos:a}));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),t.data);case j:return Object(c.a)(Object(c.a)({},e),{},{captchaURL:t.captchaURL});case d:return Object(c.a)(Object(c.a)({},e),{},{profile:t.data.data});case l:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case p:return Object(c.a)(Object(c.a)({},e),{},{isLoading:t.loading});case f:return Object(c.a)(Object(c.a)({},e),{},{profile:Object(c.a)(Object(c.a)({},e.profile),{},{photos:t.photos})});default:return e}}},300:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,310)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},a=n(9),s=n(30),c=n(106),i=n(35),o={friends:[{id:1,name:"Perec",avatar:"https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg"},{id:2,name:"Vasia",avatar:"http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg"},{id:3,name:"Vova",avatar:"https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg"},{id:4,name:"Anton",avatar:"https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg"},{id:5,name:"Mary",avatar:"https://omoro.ru/wp-content/uploads/2018/05/prikilnie-kartinki-na-avatarky-dlia-devyshek-9.jpg"},{id:6,name:"Kolja",avatar:"https://f1.upet.com/A_r2u6uZhnxA_x.jpg"},{id:7,name:"Dron",avatar:"https://pristor.ru/wp-content/uploads/2018/07/%D0%9E%D1%82%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B8-%D1%84%D0%BE%D1%82%D0%BE-%D0%BD%D0%B0-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D1%83-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B0%D1%80%D0%BD%D0%B5%D0%B9-%D0%B8-%D0%BC%D1%83%D0%B6%D1%87%D0%B8%D0%BD-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-2018-17-726x1024.jpg"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return e},l=n(132),d=n(134),p=n(131),f=n(3),j="app_INITIALIZED_SUCCESS",b={initialized:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},m=Object(a.c)({dialogsPage:c.b,profilePage:i.b,usersPage:l.a,sidebar:u,auth:s.a,app:h,form:p.a}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,g=Object(a.e)(m,O(Object(a.a)(d.a)));window.store=g;var _=g,v=n(1),x=n.n(v),N=n(66),k=n.n(N),P=(n(250),n(18)),w=n(70),S=n(20),y=n(19),D=n(12),C=(n(251),n(13)),I=n(28),A=n(11),B=n.n(A),L=n(16),U=n.n(L),E=n.p+"static/media/user.d8e8e1fe.jpg",F=n.p+"static/media/preloaderPoint.7aaa1561.svg",T=n(68),M=n(34),H=n.n(M),z=n(0),R=x.a.memo((function(e){var t=Object(v.useState)(e.status),n=Object(T.a)(t,2),r=n[0],a=n[1];Object(v.useEffect)((function(){a(e.status)}),[e.status]);return Object(z.jsx)("div",{className:H.a.menu,children:Object(z.jsxs)("div",{className:B.a.block+" "+H.a.menuContainer,children:[Object(z.jsx)("div",{className:H.a.menuName,children:"YOUR ACCOUNT"}),Object(z.jsxs)("ul",{className:H.a.menuList,children:[Object(z.jsx)(I.b,{to:"/settings",children:Object(z.jsx)("li",{className:H.a.menuLink,children:"Profile Settings"})}),Object(z.jsx)("li",{onClick:e.logOut,className:H.a.menuLink+" "+H.a.signOut,children:Object(z.jsx)("span",{children:"Sign out"})})]}),Object(z.jsx)("div",{className:H.a.menuName,children:"CHANGE STATUS"}),Object(z.jsxs)("div",{className:H.a.statusChange,children:[Object(z.jsx)("input",{onChange:function(e){a(e.currentTarget.value)},autoFocus:!0,placeholder:"Type new post...",value:r}),Object(z.jsx)("button",{onClick:function(){e.setStatus(r)},children:"Sent"})]})]})})})),G=function(e){var t=Object(z.jsx)("div",{className:U.a.preloader,children:Object(z.jsx)("img",{src:F,alt:"Preloader"})}),n=Object(z.jsx)("span",{children:e.status||"no status"}),r=Object(z.jsx)(I.b,{to:"/login",className:U.a.login,children:"Log In"}),a=Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("ul",{className:U.a.menuList,children:Object(z.jsx)("li",{className:U.a.menuLink,children:Object(z.jsxs)("div",{className:U.a.user,children:[Object(z.jsx)("div",{className:U.a.userPhoto,children:Object(z.jsx)("img",{src:e.photo?e.photo:E,alt:"mainImage"})}),Object(z.jsxs)("div",{className:U.a.controlBlock,children:[Object(z.jsx)("div",{className:U.a.name,children:e.login}),Object(z.jsx)("div",{className:U.a.status,children:e.loading?t:n})]}),Object(z.jsx)("div",{className:U.a.menu,children:Object(z.jsx)(R,{status:e.status,setStatus:e.setStatus,loading:e.loading,logOut:e.logOut})})]})})})});return Object(z.jsx)("header",{className:U.a.header,children:Object(z.jsxs)("div",{className:"".concat(B.a.container," ").concat(U.a.container),children:[Object(z.jsxs)("div",{className:U.a.logo,children:[Object(z.jsx)("span",{className:U.a.mainName,children:"SAMURAIS"}),Object(z.jsx)("span",{className:U.a.secondName,children:"social network"})]}),Object(z.jsx)("div",{className:U.a.freeSpace}),Object(z.jsx)("input",{placeholder:"Search here...",className:U.a.search+" "+B.a.comingSoon}),e.isAuth?a:r]})})},q=n(25),V=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(z.jsx)(G,{login:e.props.login,status:e.props.status,logOut:e.props.logOut,isAuth:e.props.isAuth,photo:e.props.photo,loading:e.props.loading,setStatus:e.props.setStatus})},e}return n}(x.a.Component),J=Object(C.b)((function(e){return{isAuth:Object(q.b)(e),userId:Object(q.d)(e),login:Object(q.e)(e),status:Object(q.h)(e),photo:Object(q.f)(e),loading:Object(q.c)(e)}}),{setStatus:s.f,logOut:s.d})(V),K=n(15),Q=n.n(K),W=function(e){return Object(z.jsx)("div",{className:Q.a.item,children:Object(z.jsx)(I.b,{to:e.link,activeClassName:Q.a.activeLink,className:e.className,children:e.link[1].toUpperCase()+e.link.slice(2)})})},X=n.p+"static/media/sliders.957e732c.svg",Y=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPhotoChange=function(t){t.target.files.length&&e.props.setUserPhoto(t.target.files[0])},e}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.props.userPhoto?this.props.userPhoto:E,n=this.props.status?Object(z.jsx)("div",{className:Q.a.status,children:this.props.status}):"",r=[{link:"/profile",forInitialized:!0,className:""},{link:"/dialogs",forInitialized:!0,className:""},{link:"/news",forInitialized:!1,className:B.a.comingSoon},{link:"/music",forInitialized:!1,className:B.a.comingSoon},{link:"/users",forInitialized:!1,className:""},{link:"/settings",forInitialized:!1,className:B.a.comingSoon}];console.log(this.props.isMiProfile);var a=r.map((function(t,n){return e.props.isAuth?Object(z.jsx)(W,{link:t.link,className:t.className},n):t.forInitialized?Object(z.jsx)(z.Fragment,{}):Object(z.jsx)(W,{link:t.link,className:t.className},n)}));return Object(z.jsxs)("nav",{className:"".concat(Q.a.nav," ").concat(B.a.block),children:[Object(z.jsx)("div",{className:Q.a.wallpaper,children:Object(z.jsx)("img",{src:"https://html.crumina.net/html-olympus/img/top-header1.webp",alt:"wallpaper"})}),Object(z.jsxs)("div",{className:Q.a.menu,children:[Object(z.jsx)("div",{className:Q.a.menuLeft,children:this.props.userName?a.splice(0,Math.ceil(a.length/2)):a}),this.props.userName&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:Q.a.userBlock,children:[Object(z.jsx)("div",{className:Q.a.userPhoto,children:Object(z.jsx)("img",{src:t,alt:"userPhoto"})}),Object(z.jsxs)("div",{className:Q.a.userName,children:[this.props.userName,n]})]}),Object(z.jsx)("div",{className:Q.a.menuRight,children:a})]})]}),Object(z.jsxs)("div",{className:Q.a.photoUpload,children:[Object(z.jsx)("img",{src:X,alt:"Controls"}),Object(z.jsx)("div",{className:Q.a.menuPhoto,children:Object(z.jsxs)("div",{className:B.a.block+" "+Q.a.container,children:[Object(z.jsxs)("label",{className:Q.a.label,children:[Object(z.jsx)("span",{className:Q.a.uploadFileText,children:"Upload profile photo"}),Object(z.jsx)("input",{type:"file",onChange:this.onPhotoChange,className:Q.a.uploadFileInput})]}),Object(z.jsx)("label",{children:Object(z.jsx)("span",{className:Q.a.uploadFileText+" "+B.a.comingSoon,children:"Upload header photo"})})]})})]})]})}}]),n}(x.a.Component),Z=n(24),$=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).isMiProfile=function(){return e.props.userId===e.props.miId},e.componentDidUpdate=function(t){e.isMiProfile()&&e.props.status!==e.props.miStatus&&(console.log("navbar",e.props.status,e.props.miStatus),e.props.getUser(e.props.miId))},e.render=function(){return Object(z.jsx)(Y,{userName:e.props.userName,userPhoto:e.props.userPhoto,isAuth:e.props.isAuth,status:e.props.status,isMiProfile:e.isMiProfile(),setUserPhoto:e.props.setUserPhoto})},e}return n}(x.a.Component),ee=Object(a.d)(Object(C.b)((function(e){return{userName:Object(Z.e)(e),userPhoto:Object(Z.g)(e),status:Object(Z.h)(e),isAuth:Object(q.b)(e),userId:Object(Z.d)(e),miId:Object(q.d)(e),miStatus:Object(q.h)(e)}}),{setUserProfile:i.e,getUser:i.c,setUserPhoto:s.g}),D.f)($),te=n(71),ne=n.n(te),re=function(e){return Object(z.jsx)("div",{className:ne.a.friend,children:Object(z.jsx)("img",{src:e.url,alt:"avatar"})})},ae=function(e){var t=e.friends.map((function(e){return Object(z.jsx)(re,{url:e.avatar,name:e.name},e.id)}));return Object(z.jsxs)("div",{className:B.a.block,children:[Object(z.jsx)("div",{className:B.a.blockName,children:Object(z.jsxs)("span",{className:B.a.comingSoon,children:["Friends (",e.friends.length,")"]})}),Object(z.jsx)("div",{className:ne.a.container,children:t})]})},se=Object(C.b)((function(e){return{friends:Object(Z.c)(e)}}),{})(ae),ce=n(137),ie=n.n(ce),oe=function(e){return Object(z.jsxs)("div",{className:B.a.block,children:[Object(z.jsx)("div",{className:B.a.blockName,children:"Profile Intro"}),Object(z.jsxs)("div",{className:ie.a.container,children:[Object(z.jsx)("h4",{className:"title",children:"About Me:"}),Object(z.jsx)("span",{className:"text",children:e.userProfile.aboutMe}),Object(z.jsx)("h4",{className:"title",children:"Looking for a job description:"}),Object(z.jsx)("span",{className:"text",children:e.userProfile.lookingForAJobDescription}),Object(z.jsx)("h4",{className:"title",children:"Contacts:"}),Object(z.jsx)("ul",{children:Object.entries(e.userProfile.contacts).map((function(e){var t=Object(T.a)(e,2),n=t[0],r=t[1];return r?r.toLowerCase().startsWith("http")?Object(z.jsx)("li",{children:Object(z.jsx)("a",{href:r,children:n})},n):Object(z.jsx)("li",{children:Object(z.jsx)("a",{href:"https://"+r,children:n})},n):" "}))})]})]})},ue=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(z.jsx)(oe,Object(f.a)({},e.props))},e}return n}(x.a.Component),le=Object(C.b)((function(e){return{userProfile:Object(Z.f)(e)}}),{})(ue),de=n(118),pe=n(92),fe=n.n(pe),je=n(138),be=n.n(je),he=function(e){return Object(z.jsxs)("div",{className:"".concat(be.a.item," ").concat(B.a.block),children:[Object(z.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcdS2G0_159FyiX7C5I-ed1aw2Nj_R3t1P9g&usqp=CAU",alt:"mainImage"}),e.message,Object(z.jsx)("div",{children:Object(z.jsxs)("span",{children:[e.counts," Likes "]})})]})},me=n(96),Oe=n(129),ge=n(130),_e=Object(ge.a)({form:"postMessage"})((function(e){return Object(z.jsxs)("form",{onSubmit:e.handleSubmit,className:"".concat(B.a.block," ").concat(fe.a.newPosteBlock),children:[Object(z.jsx)("h3",{children:"Add post"}),Object(z.jsx)(Oe.a,{component:"textarea",name:"postText",placeholder:"Type new post..."}),Object(z.jsx)(me.a,{value:"Sent"})]})})),ve=function(e){var t=e.posts.map((function(e){return Object(z.jsx)(he,{message:e.message,counts:e.likesCount},e.id)})).reverse();return Object(z.jsxs)("div",{children:[Object(z.jsx)(_e,{onSubmit:function(t){e.addPost(t)}}),Object(z.jsx)("div",{className:fe.a.posts,children:t})]})},xe=Object(C.b)((function(e){return{posts:Object(Z.b)(e)}}),{addPost:i.a})(ve),Ne=n(140),ke=n.n(Ne),Pe=function(e){return Object(z.jsx)("div",{className:ke.a.content,children:Object(z.jsx)(xe,{})})},we=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).refreshProfile=function(){var t=e.props.match.params.userId||e.props.miId;e.props.getUser(t)},e.componentDidMount=function(){e.refreshProfile()},e.componentDidUpdate=function(t){e.props.match.params.userId!==t.match.params.userId&&e.refreshProfile()},e.render=function(){return Object(z.jsx)(Pe,{})},e}return n}(x.a.Component),Se=Object(a.d)(Object(C.b)((function(e){return{userProfile:Object(Z.f)(e),miId:Object(q.d)(e)}}),{getUser:i.c}),D.f,de.a)(we),ye=n(97),De=function(e){return function(t){return Object(z.jsx)(v.Suspense,{fallback:Object(z.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(z.jsx)(e,Object(f.a)({},t))})}},Ce=x.a.lazy((function(){return n.e(3).then(n.bind(null,311))})),Ie=x.a.lazy((function(){return n.e(4).then(n.bind(null,316))})),Ae=x.a.lazy((function(){return n.e(8).then(n.bind(null,312))})),Be=x.a.lazy((function(){return n.e(7).then(n.bind(null,313))})),Le=x.a.lazy((function(){return n.e(5).then(n.bind(null,315))})),Ue=x.a.lazy((function(){return n.e(6).then(n.bind(null,314))})),Ee=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.initializeApp()},e}return Object(w.a)(n,[{key:"render",value:function(){return this.props.initialized?Object(z.jsxs)("div",{children:[Object(z.jsx)(D.b,{path:"/login",render:De(Ce)}),Object(z.jsxs)("div",{children:[Object(z.jsx)(J,{}),Object(z.jsxs)("div",{className:"app-wrapper",children:[Object(z.jsx)(ee,{}),Object(z.jsxs)("div",{className:"app-wrapper-content",children:[Object(z.jsx)(D.b,{path:"/dialogs",render:De(Le)}),Object(z.jsx)(D.b,{path:"/profile/:userId?",render:function(){return Object(z.jsx)(Se,{})}}),Object(z.jsx)(D.b,{path:"/news",render:De(Ae)}),Object(z.jsx)(D.b,{path:"/music",render:De(Be)}),Object(z.jsx)(D.b,{path:"/users",render:De(Ue)}),Object(z.jsx)(D.b,{path:"/settings",render:De(Ie)})]}),Object(z.jsxs)("div",{className:"app-wrapper-right",children:[Object(z.jsx)(le,{}),Object(z.jsx)(se,{})]})]})]})]}):Object(z.jsx)(ye.a,{})}}]),n}(x.a.Component),Fe=Object(a.d)(D.f,Object(C.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(s.b)());Promise.all([t]).then((function(){e({type:j})}))}}}))(Ee);k.a.render(Object(z.jsx)(x.a.StrictMode,{children:Object(z.jsx)(I.a,{children:Object(z.jsx)(C.a,{store:_,children:Object(z.jsx)(Fe,{})})})}),document.getElementById("root")),r()},34:function(e,t,n){e.exports={menu:"ProfileMenu_menu__25D4Q",menuContainer:"ProfileMenu_menuContainer__11BAJ",menuName:"ProfileMenu_menuName__3BCFp",menuList:"ProfileMenu_menuList__YO5FR",menuLink:"ProfileMenu_menuLink__2dWw_",signOut:"ProfileMenu_signOut__1LeCH",statusChange:"ProfileMenu_statusChange__8VpHK"}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return v}));var r=n(10),a=n.n(r),s=n(22),c=n(48),i=n(3),o=n(43),u=n(14),l=n(30),d="profile_ADD_POST",p="profile_DELETE_POST",f="profile_SET_USER_PROFILE",j="profile_SET_USER_STATUS",b="profile_SET_FETCHING",h={posts:[{id:1,message:"Hi! It's my first post in my social network",likesCount:1},{id:2,message:"All work",likesCount:2},{id:3,message:"Some post here",likesCount:5},{id:4,message:"Long post. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugiten, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi en lod nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur adipisci velit en lorem ipsum der.",likesCount:0}],userProfile:{userId:null,fullName:null,aboutMe:null,lookingForAJob:!1,lookingForAJobDescription:null,status:null,photos:{small:null,large:null},contacts:{facebook:null,website:null,vk:null,twitter:null,instagram:null,youtube:null,github:null,mainLink:null}},isFetching:!1},m=function(e){return{type:d,postText:e}},O=function(e){return{type:f,userProfile:e}},g=function(e){return{type:b,fetching:e}},_=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getUser(e);case 2:return r=t.sent,n(O(r)),t.next=6,u.b.getStatus(e);case 6:s=t.sent,n({type:j,status:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s,c,d,p,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,n(g(!0)),t.next=4,u.b.setProfileInfo(e);case 4:if(0!==(c=t.sent).data.resultCode){t.next=12;break}return t.next=8,u.b.getUser(s);case 8:d=t.sent,n(Object(l.e)(d)),t.next=16;break;case 12:p={},f={},c.data.messages.forEach((function(e){var t=e.slice(e.indexOf("Contacts->")+10,e.length-1).toLowerCase(),n=e.slice(0,e.indexOf("(Contacts->")-1);e.includes("Contacts->")?p[t]=n:f._error=e})),n(Object(o.a)("ProfileInfo",Object(i.a)(Object(i.a)({},f),{},{contacts:p})));case 16:n(g(!1));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[{id:++e.posts.length,message:t.postText,likesCount:0}])});case p:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case f:return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.userProfile});case b:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.fetching});case j:return Object(i.a)(Object(i.a)({},e),{},{userProfile:Object(i.a)(Object(i.a)({},e.userProfile),{},{status:t.status})});default:return e}}},71:function(e,t,n){e.exports={container:"FriendsBlock_container__1pzrw",friend:"FriendsBlock_friend__1X8nA"}},92:function(e,t,n){e.exports={newPosteBlock:"MyPosts_newPosteBlock__1S_bJ"}},93:function(e,t,n){e.exports={button:"BigButton_button__17-al",cancel:"BigButton_cancel__1eqgI"}},96:function(e,t,n){"use strict";n(1);var r=n(93),a=n.n(r),s=n(0);t.a=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:a.a.button+" "+("Cancel"===e.value?a.a.cancel:""),onClick:e.click,disabled:e.disabled,children:e.value})})}},97:function(e,t,n){"use strict";n(1);var r=n.p+"static/media/preloaderCircle.c32a7a57.svg",a=n(141),s=n.n(a),c=n(0);t.a=function(e){return Object(c.jsx)("div",{className:s.a.preloader,children:Object(c.jsx)("img",{src:r,alt:"Preloader"})})}}},[[300,1,2]]]);
//# sourceMappingURL=main.2501f627.chunk.js.map