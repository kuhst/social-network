{"version":3,"sources":["components/elements/BigButton.tsx","assets/images/preloaderCircle.svg","components/elements/Preloader.jsx","Style.module.css","redux/DialogsReducer.ts","hoc/withAuthRedirect.tsx","api/usersAPI.ts","utils/objectsHelper.ts","redux/UsersReducer.ts","components/Navbar/Navbar.module.css","components/Sidebar/ProfileIntro/ProfileIntro.module.css","components/Profile/MyPosts/Post/Post.module.css","components/elements/Preloader.module.css","components/Header/Header.module.css","api/api.ts","redux/profileSelector.ts","redux/authSelector.ts","api/authAPI.ts","redux/AuthReducer.ts","reportWebVitals.js","redux/SidebarReducer.ts","redux/AppReducer.ts","redux/ReduxStore.ts","assets/images/user.jpg","assets/images/preloaderPoint.svg","components/Header/ProfileMenu/ProfileMenu.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Navbar/MenuItem.tsx","assets/images/sliders.svg","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/Sidebar/FriendsBlock/FriendItem/FriendItem.jsx","components/Sidebar/FriendsBlock/FriendsBlock.jsx","components/Sidebar/FriendsBlock/FriendsBlockContainer.jsx","components/Sidebar/ProfileIntro/ProfileIntro.jsx","components/Sidebar/ProfileIntro/ProfileIntroContainer.jsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","api/profileAPI.ts","components/Header/ProfileMenu/ProfileMenu.module.css","redux/ProfileReducer.ts","components/elements/FormsControls.module.css","components/Sidebar/FriendsBlock/FriendsBlock.module.css","components/elements/FormsControls.tsx","components/Profile/MyPosts/MyPosts.module.css","components/elements/BigButton.module.css"],"names":["BigButton","value","click","disabled","className","s","button","cancel","onClick","Preloader","preloader","src","alt","module","exports","initialState","dialogsData","id","name","avatar","messages","message","from","actionsDialogReducer","type","addMessage","dispatch","a","dialogsReducer","state","action","length","mapStateToProps","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","to","usersAPI","getUsers","usersCountOnPage","currentPage","instanceAxios","get","then","response","data","follow","post","unfollow","delete","objectsHelper","items","objPropName","newObjProps","map","u","users","usersCount","isFetching","followingInProgress","actionsUsersReducer","userId","pageNumber","isFollowing","responseUsers","totalCount","_followUnfollow","userID","apiMethod","actionCreator","resultCode","bind","usersReducer","followed","filter","ResultCodeEnum","ResultCodeForCaptcha","axios","create","withCredentials","headers","baseURL","getUserProfile","profilePage","userProfile","getUserFriends","sidebar","friends","getPosts","posts","getUserName","fullName","getUserId","getUserStatus","userStatus","getUserSmallPhoto","photos","small","getMiProfileFetching","getIsAuth","getCaptchaURL","captchaURL","getMiId","getMiStatus","status","getMiProfile","profile","getMiFoolName","getMiPhotoSmall","getLoadingStatus","isLoading","authAPI","email","password","rememberMe","captcha","login","aboutMe","lookingForAJob","lookingForAJobDescription","large","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","actionsAuthReducer","setAuthUserData","setMiStatus","setMiProfile","setLoading","setUserPhotoSuccess","setCaptchaURL","getAuth","miData","profileAPI","userData","getStatus","setStatus","logIn","captchaCode","url","stopSubmit","_error","logOut","setUserPhoto","file","setPhoto","authReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","initialized","actionsAppReducer","appReducer","rootReducers","combineReducers","dialogsPage","profileReducer","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ProfileMenu","React","memo","useState","useEffect","menu","style","block","menuContainer","menuName","menuList","menuLink","signOut","statusChange","onChange","e","currentTarget","autoFocus","placeholder","undefined","Header","preloaderImage","statusBlock","user","userPhoto","photo","controlBlock","miName","loading","header","container","logo","mainName","secondName","freeSpace","search","comingSoon","HeaderContainer","render","MenuItem","item","link","activeClassName","activeLink","toUpperCase","slice","Navbar","onPhotoChange","event","target","files","photoUrl","this","navItems","forInitialized","console","log","isMiProfile","index","nav","wallpaper","menuLeft","userName","splice","Math","ceil","userBlock","menuRight","photoUpload","iconSliders","menuPhoto","label","uploadFileText","uploadFileInput","NavbarContainer","miId","componentDidUpdate","miStatus","getUser","withRouter","FriendItem","friend","FriendBlock","f","blockName","ProfileIntro","Object","entries","key","toLowerCase","startsWith","href","ProfileIntroContainer","Post","counts","NewPostReduxForm","reduxForm","onSubmit","handleSubmit","newPosteBlock","createField","Textarea","MyPosts","postsElement","p","likesCount","reverse","formData","addPost","postText","MyPostsContainer","actionsProfileReducer","Profile","content","ProfileContainer","refreshProfile","match","params","componentDidMount","prevProps","withSuspense","fallback","Login","lazy","ProfileInfoContainer","News","Settings","Music","DialogsContainer","UsersContainer","SuspendedDialogs","SuspendedUsers","SuspendedLogin","SuspendedProfileInfo","App","initializeApp","path","exact","FriendsBlockContainer","promise","Promise","all","ReactDOM","StrictMode","Store","document","getElementById","put","setProfileData","profileData","filePhoto","FormData","append","deletePost","postId","setUserStatus","setUserProfile","setFetching","fetching","getState","contactsError","Map","otherError","forEach","element","indexOf","includes","set","fromEntries","Element","meta","input","hasErr","touched","error","inputContainer","description","errorMessage","Input","validators","component","validate"],"mappings":"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","file":"static/js/main.73d60870.chunk.js","sourcesContent":["import React from 'react';\nimport s from './BigButton.module.css';\n\ntype PropsType = {\n\tvalue: string\n\tdisabled?: boolean\n\n\tclick?: () => void\n}\n\nconst BigButton: React.FC<PropsType> = ({ value, click, disabled }) => {\n\treturn (\n\t\t<div >\n\t\t\t<button className={s.button + ' ' + (value === 'Cancel' ? s.cancel : '')} onClick={click} disabled={disabled}>{value}</button>\n\t\t</div >\n\t)\n}\n\nexport default BigButton;\n\n","export default __webpack_public_path__ + \"static/media/preloaderCircle.c32a7a57.svg\";","import React from 'react';\nimport preloader from '../../assets/images/preloaderCircle.svg';\nimport s from './Preloader.module.css'\n\nconst Preloader = () => {\n\treturn (\n\t\t<div className={s.preloader}>\n\t\t\t<img src={preloader} alt='Preloader' />\n\t\t</div>\n\t)\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Style_container__2zXzS\",\"block\":\"Style_block__2NKmM\",\"blockName\":\"Style_blockName__1y7Ic\",\"comingSoon\":\"Style_comingSoon__1sOMO\",\"errorSubmitForm\":\"Style_errorSubmitForm__1L_4y\"};","import { ThunkAction } from \"redux-thunk\";\nimport { AppStateType, InferActionsTypes } from \"./ReduxStore\";\n\n\nlet initialState = {\n\tdialogsData: [\n\t\t{ id: 1, name: 'Perec', avatar: 'https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg' },\n\t\t{ id: 2, name: 'Vasia', avatar: 'http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg' },\n\t\t{ id: 3, name: 'Vova', avatar: 'https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg' },\n\t\t{ id: 4, name: 'Anton', avatar: 'https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg' },\n\t] as Array<DialogType>,\n\tmessages: [\n\t\t{ id: 1, message: 'hi!', from: 'friend' },\n\t\t{ id: 2, message: 'How is your programing?', from: 'friend' },\n\t\t{ id: 3, message: 'Ok', from: 'mi' },\n\t\t{ id: 4, message: 'Cool!', from: 'friend' },\n\t\t{ id: 5, message: 'Some log message. skfjnvksv sdoiv csodifvjc skdjvn sdfcjvsfldkv dsfkv dfkjnvd kfjvnd', from: 'mi' },\n\t] as Array<MessageType>,\n}\n\nconst dialogsReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'ADD_MESSAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, {\n\t\t\t\t\tid: ++state.messages.length,\n\t\t\t\t\tmessage: action.message,\n\t\t\t\t\tfrom: 'mi',\n\t\t\t\t}],\n\t\t\t}\n\t\tdefault: return state;\n\t};\n};\n\n\n\nexport const actionsDialogReducer = {\n\taddMessageAC: (message: string) => ({ type: 'ADD_MESSAGE', message })\n}\n\n\nexport const addMessage = (message: string): ThunkType => {\n\treturn async (dispatch) => {\n\t\tdispatch(actionsDialogReducer.addMessageAC(message));\n\t}\n}\n\nexport default dialogsReducer;\n\n\ntype DialogType = {\n\tid: number\n\tname: string\n\tavatar: string\n}\ntype MessageType = {\n\tid: number\n\tmessage: string\n\tfrom: 'mi' | 'friend'\n}\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actionsDialogReducer>\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType>","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { AppStateType } from \"../redux/ReduxStore\";\n\ntype MapStatePropsType = {\n\tisAuth: boolean\n}\ntype MapDispatchPropsType = {\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n\tisAuth: state.auth.isAuth,\n})\n\nexport function withAuthRedirect<WCP>(Component: React.ComponentType<WCP>) {\n\n\tconst RedirectComponent: React.FC<MapStatePropsType & MapStatePropsType> = (props) => {\n\t\tlet { isAuth, ...restProps } = props\n\t\tif (!isAuth) return <Redirect to='/login' />;\n\t\treturn <Component {...restProps as WCP} />\n\n\t}\n\n\t// const connectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\n\n\treturn connect<MapStatePropsType, MapDispatchPropsType, WCP, AppStateType>(mapStateToProps, {})(RedirectComponent);\n}","import { PhotosType } from \"../type/type\";\nimport { instanceAxios, APIResponseType } from \"./api\";\n\ntype UserType = {\n\tname: string\n\tid: number\n\tphotos: PhotosType\n\tstatus: string | null\n\tfollowed: boolean\n}\ntype UsersResponseType = {\n\titems: Array<UserType>\n\ttotalCount: number\n\terror: string | null\n}\n\nexport const usersAPI = {\n\tgetUsers(usersCountOnPage = 9, currentPage = 1) {\n\t\treturn instanceAxios.get<UsersResponseType>(`/users?count=${usersCountOnPage}&page=${currentPage}`)\n\t\t\t.then(response => response.data)\n\t},\n\tfollow(id: number) {\n\t\treturn instanceAxios.post<APIResponseType>(`/follow/${id}`)\n\t\t\t.then(response => response.data)\n\t},\n\tunfollow(id: number) {\n\t\treturn instanceAxios.delete<APIResponseType>(`/follow/${id}`)\n\t\t\t.then(response => response.data)\n\t}\n};","export const objectsHelper = (items: any, action: any, objPropName: any, newObjProps: any) => {\n\treturn items.map((u: any) => (u[objPropName] === action) ? { ...u, ...newObjProps } : u)\n}","import { BaseThunkType, InferActionsTypes } from './ReduxStore';\nimport { Dispatch } from \"redux\";\nimport { usersAPI } from \"../api/usersAPI\";\nimport { UserType } from \"../type/type\";\nimport { objectsHelper } from \"../utils/objectsHelper\";\n\nlet initialState = {\n\tusers: [] as Array<UserType>,\n\tusersCount: 0,\n\tusersCountOnPage: 12,\n\tcurrentPage: 1,\n\tisFetching: false,\n\tfollowingInProgress: [] as Array<number>\n}\n\nconst usersReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'FOLLOW':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: objectsHelper(state.users, action.userId, \"id\", { followed: true }),\n\t\t\t}\n\t\tcase 'UNFOLLOW':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: objectsHelper(state.users, action.userId, \"id\", { followed: false }),\n\t\t\t}\n\t\tcase 'SET_USERS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: action.users,\n\t\t\t}\n\t\tcase 'SET_PAGE_NUMBER':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPage: action.pageNumber,\n\t\t\t}\n\t\tcase 'SET_USERS_COUNT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusersCount: action.usersCount,\n\t\t\t}\n\t\tcase 'SET_FETCHING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tcase 'TOGGLE_IS_FOLLOWING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfollowingInProgress: action.isFollowing\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\n\t\t\t}\n\t\tdefault: return state;\n\t};\n};\n\n\nconst actionsUsersReducer = {\n\tfollowSuccess: (userId: number) => ({ type: 'FOLLOW', userId } as const),\n\tunfollowSuccess: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\n\tsetUsers: (users: Array<UserType>) => ({ type: 'SET_USERS', users } as const),\n\tsetPageToCurrent: (pageNumber: number) => ({ type: 'SET_PAGE_NUMBER', pageNumber } as const),\n\tsetUsersCount: (usersCount: number) => ({ type: 'SET_USERS_COUNT', usersCount } as const),\n\tsetFetching: (isFetching: boolean) => ({ type: 'SET_FETCHING', isFetching } as const),\n\ttoggleIsFollowing: (isFollowing: boolean, userId: number) => ({ type: 'TOGGLE_IS_FOLLOWING', isFollowing, userId } as const),\n}\n\nexport const responseUsers = (usersCountOnPage: number, currentPage: number): ThunkType => {\n\treturn async (dispatch) => {\n\t\tdispatch(actionsUsersReducer.setFetching(true));\n\t\tdispatch(actionsUsersReducer.setPageToCurrent(currentPage));\n\n\t\tconst response = await usersAPI.getUsers(usersCountOnPage, currentPage);\n\n\t\tdispatch(actionsUsersReducer.setFetching(false));\n\t\tdispatch(actionsUsersReducer.setUsers(response.items));\n\t\tdispatch(actionsUsersReducer.setUsersCount(response.totalCount));\n\t}\n};\n\nconst _followUnfollow = async (userID: number, dispatch: DispatchType, apiMethod: any,\n\tactionCreator: (userId: number) => ActionsType) => {\n\tdispatch(actionsUsersReducer.toggleIsFollowing(true, userID));\n\n\tconst response = await apiMethod(userID);\n\n\tif (response.resultCode === 0) {\n\t\tdispatch(actionCreator(userID))\n\t};\n\tdispatch(actionsUsersReducer.toggleIsFollowing(false, userID));\n}\n\nexport const unfollow = (userID: number): ThunkType => {\n\treturn async (dispatch) => {\n\t\t_followUnfollow(userID, dispatch, usersAPI.unfollow.bind(usersAPI), actionsUsersReducer.unfollowSuccess)\n\t}\n};\n\nexport const follow = (userID: number): ThunkType => {\n\treturn async (dispatch) => {\n\t\t_followUnfollow(userID, dispatch, usersAPI.follow.bind(usersAPI), actionsUsersReducer.followSuccess)\n\t}\n};\n\nexport default usersReducer;\n\n\ntype InitialStateType = typeof initialState;\ntype ActionsType = InferActionsTypes<typeof actionsUsersReducer>\ntype DispatchType = Dispatch<ActionsType>\ntype ThunkType = BaseThunkType<ActionsType>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"wallpaper\":\"Navbar_wallpaper__1DlQr\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\",\"menu\":\"Navbar_menu__NKpxG\",\"menuLeft\":\"Navbar_menuLeft__1-CBC\",\"menuRight\":\"Navbar_menuRight__1hhAo\",\"userBlock\":\"Navbar_userBlock__yi49o\",\"userPhoto\":\"Navbar_userPhoto__2OkdO\",\"userName\":\"Navbar_userName__3NVEZ\",\"status\":\"Navbar_status__2Q0dS\",\"photoUpload\":\"Navbar_photoUpload__1tWKu\",\"menuPhoto\":\"Navbar_menuPhoto__3B8Vs\",\"container\":\"Navbar_container__1ESpZ\",\"label\":\"Navbar_label__2vojo\",\"uploadFileText\":\"Navbar_uploadFileText__iYdut\",\"uploadFileInput\":\"Navbar_uploadFileInput__1526y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileIntro_container__1Nlan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__SMTGm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"container\":\"Header_container__1VC87\",\"login\":\"Header_login__3V3Qa\",\"logo\":\"Header_logo__3_SJs\",\"mainName\":\"Header_mainName__1HPVb\",\"secondName\":\"Header_secondName__2K9lp\",\"search\":\"Header_search__ckDys\",\"freeSpace\":\"Header_freeSpace__2bhUy\",\"menuList\":\"Header_menuList__3jhVl\",\"menuLink\":\"Header_menuLink__ig-eX\",\"user\":\"Header_user__1QDl1\",\"arrow\":\"Header_arrow__1S-AG\",\"menu\":\"Header_menu__BQHSW\",\"userPhoto\":\"Header_userPhoto__3zN07\",\"controlBlock\":\"Header_controlBlock__14paH\",\"name\":\"Header_name__2-9cn\",\"status\":\"Header_status__2bL1G\"};","import axios from \"axios\";\n\nexport const instanceAxios = axios.create({\n\twithCredentials: true,\n\theaders: {\n\t\t'API-KEY': '65f23381-a001-469d-b8d8-33dccd7a4fd2'\n\t},\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0'\n})\n\nexport type APIResponseType<D = {}, RC = ResultCodeEnum> = {\n\tdata: D\n\tmessages: Array<string>\n\tresultCode: RC\n}\n\nexport enum ResultCodeEnum {\n\tSuccess = 0,\n\tError = 1\n}\n\nexport enum ResultCodeForCaptcha {\n\tCaptchaIsRequired = 10\n}","import { AppStateType } from \"./ReduxStore\";\n\nexport const getUserProfile = (state: AppStateType) => {\n\treturn state.profilePage.userProfile;\n}\n\nexport const getUserFriends = (state: AppStateType) => {\n\treturn state.sidebar.friends;\n}\n\nexport const getPosts = (state: AppStateType) => {\n\treturn state.profilePage.posts\n}\n\nexport const getUserName = (state: AppStateType) => {\n\treturn state.profilePage.userProfile.fullName\n}\n\nexport const getUserId = (state: AppStateType) => {\n\treturn state.profilePage.userProfile.userId\n}\n\nexport const getUserStatus = (state: AppStateType) => {\n\treturn state.profilePage.userStatus\n}\n\nexport const getUserSmallPhoto = (state: AppStateType) => {\n\treturn state.profilePage.userProfile.photos.small\n}\n\nexport const getUserLargePhoto = (state: AppStateType) => {\n\treturn state.profilePage.userProfile.photos.large\n}\n\nexport const getUserAboutMe = (state: AppStateType) => {\n\treturn state.profilePage.userProfile.aboutMe\n}\n\nexport const getMiProfileFetching = (state: AppStateType) => {\n\treturn state.profilePage.isFetching\n}","import { AppStateType } from \"./ReduxStore\";\n\nexport const getIsAuth = (state: AppStateType) => {\n\treturn state.auth.isAuth;\n}\n\nexport const getCaptchaURL = (state: AppStateType) => {\n\treturn state.auth.captchaURL;\n}\n\nexport const getMiId = (state: AppStateType) => {\n\treturn state.auth.userId;\n}\n\nexport const getMiLogin = (state: AppStateType) => {\n\treturn state.auth.login;\n}\n\nexport const getMiStatus = (state: AppStateType) => {\n\treturn state.auth.status;\n}\n\nexport const getMiProfile = (state: AppStateType) => {\n\treturn state.auth.profile;\n}\n\nexport const getMiFoolName = (state: AppStateType) => {\n\treturn state.auth.profile.fullName;\n}\n\nexport const getMiPhotoSmall = (state: AppStateType) => {\n\treturn state.auth.profile.photos.small;\n}\n\nexport const getMiPhotoLarge = (state: AppStateType) => {\n\treturn state.auth.profile.photos.large;\n}\n\nexport const getLoadingStatus = (state: AppStateType) => {\n\treturn state.auth.isLoading;\n}","import { instanceAxios, APIResponseType, ResultCodeEnum, ResultCodeForCaptcha } from './api';\n\ntype MiResponseType = {\n\tid: number\n\temail: string\n\tlogin: string\n}\ntype LoginResponseType = {\n\tuserId: number\n}\ntype CaptchaResponseType = {\n\turl: string\n}\n\nexport const authAPI = {\n\tgetAuth() {\n\t\treturn instanceAxios.get<APIResponseType<MiResponseType>>('/auth/me')\n\t\t\t.then(response => response.data)\n\t},\n\tlogIn(email: string, password: string, rememberMe = false, captcha: string | null = null) {\n\t\treturn instanceAxios.post<APIResponseType<LoginResponseType, ResultCodeEnum | ResultCodeForCaptcha>>\n\t\t\t('/auth/login', { email, password, rememberMe, captcha })\n\t\t\t.then(response => response.data)\n\t},\n\tlogOut() {\n\t\treturn instanceAxios.delete<APIResponseType>('/auth/login')\n\t\t\t.then(response => response.data)\n\t},\n\tgetCaptcha() {\n\t\treturn instanceAxios.get<CaptchaResponseType>('/security/get-captcha-url')\n\t\t\t.then(response => response.data)\n\t}\n};","import { stopSubmit } from \"redux-form\";\nimport { authAPI } from \"../api/authAPI\";\nimport { profileAPI } from \"../api/profileAPI\";\nimport { PhotosType, ProfileType } from \"../type/type\";\nimport { BaseThunkType, InferActionsTypes } from \"./ReduxStore\";\n\n\nlet initialState = {\n\tuserId: null as number | null,\n\tlogin: null as string | null,\n\temail: null as string | null,\n\tcaptchaURL: null as string | null,\n\tisAuth: false,\n\tisLoading: false,\n\tstatus: null as string | null,\n\tprofile: {\n\t\taboutMe: null,\n\t\tlookingForAJob: null,\n\t\tlookingForAJobDescription: null,\n\t\tfullName: null,\n\t\tuserId: null,\n\t\tphotos: {\n\t\t\tsmall: null,\n\t\t\tlarge: null\n\t\t},\n\t\tcontacts: {\n\t\t\tfacebook: null,\n\t\t\twebsite: null,\n\t\t\tvk: null,\n\t\t\ttwitter: null,\n\t\t\tinstagram: null,\n\t\t\tyoutube: null,\n\t\t\tgithub: null,\n\t\t\tmainLink: null\n\t\t},\n\t} as ProfileType\n}\n\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'USER_AUTH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.data,\n\t\t\t}\n\t\tcase 'SET_CAPTCHA_URL':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcaptchaURL: action.captchaURL,\n\t\t\t}\n\t\tcase 'USER_PROFILE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile,\n\t\t\t}\n\t\tcase 'SET_STATUS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status,\n\t\t\t}\n\t\tcase 'SET_LOADING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.isLoading,\n\t\t\t}\n\t\tcase 'SET_USER_PHOTO_SUCCESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: { ...state.profile, photos: action.photos },\n\t\t\t}\n\t\tdefault: return state;\n\t};\n};\n\n\nexport const actionsAuthReducer = {\n\tsetAuthUserData: (userId: number | null, login: string | null, email: string | null, isAuth: boolean) => ({\n\t\ttype: 'USER_AUTH', data: { userId, login, email, isAuth }\n\t} as const),\n\tsetMiStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\n\tsetMiProfile: (profile: ProfileType) => ({ type: 'USER_PROFILE', profile } as const),\n\tsetLoading: (isLoading: boolean) => ({ type: 'SET_LOADING', isLoading } as const),\n\tsetUserPhotoSuccess: (photos: PhotosType) => ({ type: 'SET_USER_PHOTO_SUCCESS', photos } as const),\n\tsetCaptchaURL: (captchaURL: string | null) => ({ type: 'SET_CAPTCHA_URL', captchaURL } as const),\n}\n\nexport const getAuth = (): ThunkType => {\n\treturn async (dispatch) => {\n\t\tdispatch(actionsAuthReducer.setCaptchaURL(null))\n\t\tconst miData = await authAPI.getAuth();\n\n\t\tif (miData.resultCode === 0) {\n\t\t\tlet { id, login, email } = miData.data;\n\t\t\tdispatch(actionsAuthReducer.setAuthUserData(id, login, email, true));\n\n\t\t\tconst userData = await profileAPI.getUserProfile(id);\n\n\t\t\tdispatch(actionsAuthReducer.setMiProfile(userData));\n\n\t\t\tconst userStatus = await profileAPI.getStatus(id);\n\n\t\t\tdispatch(actionsAuthReducer.setMiStatus(userStatus))\n\t\t}\n\n\t}\n}\n\nexport const setStatus = (status: string): ThunkType => {\n\treturn async (dispatch) => {\n\t\tdispatch(actionsAuthReducer.setLoading(true));\n\n\t\tconst response = await profileAPI.setStatus(status);\n\n\t\tdispatch(actionsAuthReducer.setLoading(false))\n\t\tif (response.resultCode !== 0) return;\n\t\tdispatch(actionsAuthReducer.setMiStatus(status))\n\t}\n}\n\nexport const logIn = (email: string, password: string, rememberMe: boolean, captchaCode: string): ThunkType => {\n\treturn async (dispatch) => {\n\t\tconst response = await authAPI.logIn(email, password, rememberMe, captchaCode)\n\n\t\tif (response.resultCode === 0) {\n\t\t\tdispatch(getAuth())\n\t\t} else {\n\t\t\tif (response.resultCode === 10) {\n\t\t\t\tconst captcha = await authAPI.getCaptcha()\n\t\t\t\tdispatch(actionsAuthReducer.setCaptchaURL(captcha.url))\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tdispatch(stopSubmit('login', { _error: response.messages }))\n\t\t}\n\t}\n}\n\nexport const logOut = (): ThunkType => {\n\treturn async (dispatch) => {\n\t\tconst response = await authAPI.logOut()\n\n\t\tif (response.resultCode !== 0) return;\n\t\tdispatch(actionsAuthReducer.setAuthUserData(null, null, null, false))\n\n\t}\n}\n\nexport const setUserPhoto = (file: File): ThunkType => {\n\treturn async (dispatch) => {\n\t\tconst response = await profileAPI.setPhoto(file);\n\n\t\tif (response.resultCode === 0) {\n\t\t\tdispatch(actionsAuthReducer.setUserPhotoSuccess(response.data.photos));\n\t\t}\n\n\t}\n}\n\n\nexport default authReducer;\n\n\ntype InitialStateType = typeof initialState;\ntype ActionsType = InferActionsTypes<typeof actionsAuthReducer>\ntype ThunkType = BaseThunkType<ActionsType>","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { FriendType } from \"../type/type\";\n\n\nlet initialState = {\n\tfriends: [\n\t\t{ id: 1, name: 'Perec', avatar: 'https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg' },\n\t\t{ id: 2, name: 'Vasia', avatar: 'http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg' },\n\t\t{ id: 3, name: 'Vova', avatar: 'https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg' },\n\t\t{ id: 4, name: 'Anton', avatar: 'https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg' },\n\t\t{ id: 5, name: 'Mary', avatar: 'https://omoro.ru/wp-content/uploads/2018/05/prikilnie-kartinki-na-avatarky-dlia-devyshek-9.jpg' },\n\t\t{ id: 6, name: 'Kolja', avatar: 'https://f1.upet.com/A_r2u6uZhnxA_x.jpg' },\n\t\t{ id: 7, name: 'Dron', avatar: 'https://pristor.ru/wp-content/uploads/2018/07/%D0%9E%D1%82%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B8-%D1%84%D0%BE%D1%82%D0%BE-%D0%BD%D0%B0-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D1%83-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B0%D1%80%D0%BD%D0%B5%D0%B9-%D0%B8-%D0%BC%D1%83%D0%B6%D1%87%D0%B8%D0%BD-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-2018-17-726x1024.jpg' },\n\t] as Array<FriendType>,\n}\n\nconst sidebarReducer = (state = initialState, action: any): InitialStateType => {\n\treturn state;\n};\n\nexport default sidebarReducer;\n\ntype InitialStateType = typeof initialState;","import { getAuth } from \"./AuthReducer\";\nimport { InferActionsTypes } from \"./ReduxStore\";\n\n\nlet initialState = {\n\tinitialized: false\n}\n\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'INITIALIZED_SUCCESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: true\n\t\t\t}\n\t\tdefault: return state;\n\t};\n};\n\nexport const actionsAppReducer = {\n\tinitializedSuccess: () => ({ type: 'INITIALIZED_SUCCESS' } as const)\n}\n\nexport const initializeApp = () => (dispatch: any) => {\n\tlet promise = dispatch(getAuth());\n\tPromise.all([promise])\n\t\t.then(() => {\n\t\t\tdispatch(actionsAppReducer.initializedSuccess());\n\t\t})\n}\n\nexport default appReducer;\n\n\ntype InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actionsAppReducer>","import { createStore, combineReducers, applyMiddleware, compose, Action } from \"redux\";\nimport authReducer from \"./AuthReducer\";\nimport dialogsReducer from \"./DialogsReducer\";\nimport profileReducer from \"./ProfileReducer\";\nimport sidebarReducer from \"./SidebarReducer\";\nimport usersReducer from \"./UsersReducer\";\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./AppReducer\";\n\n\nlet rootReducers = combineReducers({\n\tdialogsPage: dialogsReducer,\n\tprofilePage: profileReducer,\n\tusersPage: usersReducer,\n\tsidebar: sidebarReducer,\n\tauth: authReducer,\n\tapp: appReducer,\n\tform: formReducer,\n})\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// @ts-ignore\nwindow.store = store;\n\nexport default store;\n\n\ntype RootStateType = typeof rootReducers;\nexport type AppStateType = ReturnType<RootStateType>\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>","export default __webpack_public_path__ + \"static/media/user.d8e8e1fe.jpg\";","export default __webpack_public_path__ + \"static/media/preloaderPoint.7aaa1561.svg\";","import React, { ChangeEvent, useEffect, useState } from 'react';\nimport style from '../../../Style.module.css'\nimport s from './ProfileMenu.module.css'\nimport { NavLink } from 'react-router-dom';\n\ntype PropsType = {\n\tstatus: string | null\n\tlogOut: () => void\n\tsetStatus: (status: string) => void\n}\n\nconst ProfileMenu: React.FC<PropsType> = React.memo((props) => {\n\n\tconst [status, setStatus] = useState(props.status);\n\n\tuseEffect(() => {\n\t\tsetStatus(props.status)\n\t}, [props.status]);\n\n\tconst applyStatusChange = () => {\n\t\tprops.setStatus(status as string);\n\t};\n\n\tconst onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tsetStatus(e.currentTarget.value)\n\t}\n\n\treturn (\n\t\t<div className={s.menu}>\n\t\t\t<div className={style.block + ' ' + s.menuContainer}>\n\t\t\t\t<div className={s.menuName}>\n\t\t\t\t\tYOUR ACCOUNT\n\t\t\t\t</div>\n\t\t\t\t<ul className={s.menuList}>\n\t\t\t\t\t<NavLink to={'/profile/settings'}>\n\t\t\t\t\t\t<li className={s.menuLink}>\n\t\t\t\t\t\t\tProfile Settings\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<li onClick={props.logOut} className={s.menuLink + ' ' + s.signOut}>\n\t\t\t\t\t\t<span>Sign out</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div className={s.menuName}>\n\t\t\t\t\tCHANGE STATUS\n\t\t\t\t</div>\n\t\t\t\t<div className={s.statusChange}>\n\t\t\t\t\t<input onChange={onStatusChange} autoFocus={true} placeholder=\"Type new post...\" value={status ? status : undefined} />\n\t\t\t\t\t<button onClick={applyStatusChange}>Sent</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n})\n\nexport default ProfileMenu","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport style from '../../Style.module.css';\nimport s from './Header.module.css';\nimport userPhoto from '../../assets/images/user.jpg';\nimport preloaderImage from '../../assets/images/preloaderPoint.svg';\nimport ProfileMenu from './ProfileMenu/ProfileMenu';\n\n\ntype PropsType = {\n\tstatus: string | null\n\tphoto: string | null\n\tmiName: string | null\n\tloading: boolean\n\tisAuth: boolean\n\tsetStatus: (status: string) => void\n\tlogOut: () => void\n}\n\nconst Header: React.FC<PropsType> = (props) => {\n\n\tlet preloader = (\n\t\t<div className={s.preloader}>\n\t\t\t<img src={preloaderImage} alt='Preloader' />\n\t\t</div>\n\t)\n\n\tlet statusBlock = (\n\t\t<span>{props.status || 'no status'}</span>\n\t)\n\n\tlet login = <NavLink to={'/login'} className={s.login}>Log In</NavLink>;\n\n\tlet user = <>\n\t\t<ul className={s.menuList}>\n\t\t\t<li className={s.menuLink}>\n\n\t\t\t\t<div className={s.user}>\n\t\t\t\t\t<div className={s.userPhoto}>\n\t\t\t\t\t\t<img src={props.photo ? props.photo : userPhoto} alt='mainImage'></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.controlBlock}>\n\t\t\t\t\t\t<div className={s.name}>\n\t\t\t\t\t\t\t{props.miName}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={s.status}>\n\t\t\t\t\t\t\t{props.loading ? preloader : statusBlock}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.menu}>\n\t\t\t\t\t\t<ProfileMenu status={props.status} setStatus={props.setStatus} logOut={props.logOut} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</li>\n\t\t</ul>\n\t</>\n\n\treturn (\n\t\t<header className={s.header} >\n\t\t\t<div className={`${style.container} ${s.container}`}>\n\t\t\t\t<div className={s.logo}>\n\t\t\t\t\t<span className={s.mainName}>SAMURAIS</span>\n\t\t\t\t\t<span className={s.secondName}>social network</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.freeSpace}></div>\n\t\t\t\t<input placeholder=\"Search here...\" className={s.search + ' ' + style.comingSoon} />\n\t\t\t\t{props.isAuth ? user : login}\n\t\t\t</div>\n\t\t</header >\n\t)\n}\n\nexport default Header;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport { setStatus, logOut } from '../../redux/AuthReducer';\nimport { getIsAuth, getLoadingStatus, getMiFoolName, getMiId, getMiPhotoSmall, getMiStatus } from '../../redux/authSelector';\nimport { AppStateType } from '../../redux/ReduxStore';\n\ntype MapStateToPropsType = ReturnType<typeof mapStateToProps>\ntype MapDispatchToPropsType = {\n\tsetStatus: (status: string) => void\n\tlogOut: () => void\n}\nclass HeaderContainer extends React.Component<MapStateToPropsType & MapDispatchToPropsType> {\n\trender = () => {\n\t\treturn (\n\t\t\t<Header miName={this.props.miName}\n\t\t\t\tstatus={this.props.status}\n\t\t\t\tlogOut={this.props.logOut}\n\t\t\t\tisAuth={this.props.isAuth}\n\t\t\t\tphoto={this.props.photo}\n\t\t\t\tloading={this.props.loading}\n\t\t\t\tsetStatus={this.props.setStatus} />\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n\tisAuth: getIsAuth(state),\n\tuserId: getMiId(state),\n\tmiName: getMiFoolName(state),\n\tstatus: getMiStatus(state),\n\tphoto: getMiPhotoSmall(state),\n\tloading: getLoadingStatus(state),\n})\n\nexport default connect(mapStateToProps, { setStatus, logOut })(HeaderContainer);","import React from 'react';\nimport s from './Navbar.module.css';\nimport { NavLink } from 'react-router-dom';\n\ntype PropsType = {\n\tlink: string\n\tclassName: string\n}\n\nexport const MenuItem: React.FC<PropsType> = (props) => {\n\treturn (\n\t\t<div className={s.item}>\n\t\t\t<NavLink to={props.link} activeClassName={s.activeLink} className={props.className}>\n\t\t\t\t{props.link[1].toUpperCase() + props.link.slice(2)}\n\t\t\t</NavLink>\n\t\t</div>\n\t)\n}\n\nexport default MenuItem;","export default __webpack_public_path__ + \"static/media/sliders.957e732c.svg\";","import React, { ChangeEvent } from 'react';\nimport s from './Navbar.module.css';\nimport style from '../../Style.module.css';\nimport userPhoto from '../../assets/images/user.jpg';\nimport MenuItem from './MenuItem';\nimport iconSliders from '../../assets/images/sliders.svg'\n\ntype PropsType = {\n\tuserPhoto: string | null\n\tstatus: string | null\n\tisMiProfile: boolean\n\tisAuth: boolean\n\tuserName: string | null\n\tsetUserPhoto: (file: File) => void\n}\n\nclass Navbar extends React.Component<PropsType> {\n\tonPhotoChange = (event: ChangeEvent<HTMLInputElement>) => {\n\t\tif (event.target.files && event.target.files.length) {\n\t\t\tthis.props.setUserPhoto(event.target.files[0]);\n\t\t}\n\t};\n\n\trender() {\n\t\tlet photoUrl = !this.props.userPhoto ? userPhoto : this.props.userPhoto;\n\t\tlet status = !this.props.status ? '' : <div className={s.status}>{this.props.status}</div>;\n\t\tlet navItems = [\n\t\t\t{ link: '/profile', forInitialized: true, className: '' },\n\t\t\t{ link: '/dialogs', forInitialized: true, className: '' },\n\t\t\t{ link: '/news', forInitialized: false, className: style.comingSoon },\n\t\t\t{ link: '/music', forInitialized: false, className: style.comingSoon },\n\t\t\t{ link: '/users', forInitialized: false, className: '' },\n\t\t\t{ link: '/settings', forInitialized: false, className: style.comingSoon },\n\t\t];\n\n\t\tconsole.log(this.props.isMiProfile);\n\n\t\tlet menu = navItems.map((item, index) => this.props.isAuth\n\t\t\t? <MenuItem link={item.link} key={index} className={item.className} />\n\t\t\t: !item.forInitialized\n\t\t\t\t? <MenuItem link={item.link} key={index} className={item.className} />\n\t\t\t\t: <></>)\n\n\t\treturn (\n\t\t\t<nav className={`${s.nav} ${style.block}`}>\n\t\t\t\t<div className={s.wallpaper}>\n\t\t\t\t\t<img src='https://html.crumina.net/html-olympus/img/top-header1.webp' alt='wallpaper'></img>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.menu}>\n\t\t\t\t\t<div className={s.menuLeft}>\n\t\t\t\t\t\t{this.props.userName\n\t\t\t\t\t\t\t? menu.splice(0, Math.ceil(menu.length / 2))\n\t\t\t\t\t\t\t: menu}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.props.userName && <>\n\t\t\t\t\t\t<div className={s.userBlock}>\n\t\t\t\t\t\t\t<div className={s.userPhoto}><img src={photoUrl} alt='userPhoto'></img></div>\n\t\t\t\t\t\t\t<div className={s.userName}>\n\t\t\t\t\t\t\t\t{this.props.userName}\n\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={s.menuRight}>\n\t\t\t\t\t\t\t{menu}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t\t{this.props.isMiProfile && <>\n\t\t\t\t\t<div className={s.photoUpload}>\n\t\t\t\t\t\t<img src={iconSliders} alt='Controls' />\n\t\t\t\t\t\t<div className={s.menuPhoto}>\n\t\t\t\t\t\t\t<div className={style.block + ' ' + s.container}>\n\t\t\t\t\t\t\t\t<label className={s.label}>\n\t\t\t\t\t\t\t\t\t<span className={s.uploadFileText}>Upload profile photo</span>\n\t\t\t\t\t\t\t\t\t<input type='file' onChange={this.onPhotoChange} className={s.uploadFileInput} />\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t<span className={s.uploadFileText + ' ' + style.comingSoon}>Upload header photo</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</nav>\n\t\t)\n\t}\n}\n\nexport default Navbar;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Navbar from './Navbar';\nimport { getUser } from '../../redux/ProfileReducer';\nimport { setUserPhoto } from '../../redux/AuthReducer';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { getUserId, getUserName, getUserSmallPhoto, getUserStatus } from '../../redux/profileSelector';\nimport { getIsAuth, getMiId, getMiStatus } from '../../redux/authSelector';\nimport { AppStateType } from '../../redux/ReduxStore';\n\ntype MapStateToProps = ReturnType<typeof mapStateToProps>\ntype MapDispatchToProps = {\n\tgetUser: (userId: number | null) => void\n\tsetUserPhoto: (file: File) => void\n}\n\n\nclass NavbarContainer extends React.Component<MapStateToProps & MapDispatchToProps> {\n\tisMiProfile = () => {\n\t\tif (this.props.userId === this.props.miId) return true;\n\t\treturn false;\n\t}\n\tcomponentDidUpdate = () => {\n\t\tif (this.isMiProfile()) {\n\t\t\tif (this.props.status !== this.props.miStatus) {\n\t\t\t\tthis.props.getUser(this.props.miId)\n\t\t\t}\n\t\t}\n\t}\n\trender = () => {\n\t\treturn <Navbar\n\t\t\tuserName={this.props.userName}\n\t\t\tuserPhoto={this.props.userPhoto}\n\t\t\tisAuth={this.props.isAuth}\n\t\t\tstatus={this.props.status}\n\t\t\tisMiProfile={this.isMiProfile()}\n\t\t\tsetUserPhoto={this.props.setUserPhoto} />\n\t}\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n\treturn {\n\t\tuserName: getUserName(state),\n\t\tuserPhoto: getUserSmallPhoto(state),\n\t\tstatus: getUserStatus(state),\n\t\tisAuth: getIsAuth(state),\n\t\tuserId: getUserId(state),\n\t\tmiId: getMiId(state),\n\t\tmiStatus: getMiStatus(state)\n\t}\n}\n\nexport default compose<React.ComponentType>(\n\tconnect(mapStateToProps, { getUser, setUserPhoto }),\n\twithRouter\n)(NavbarContainer)","import React from 'react';\nimport s from './../FriendsBlock.module.css'\n\n\nconst FriendItem = (props) => {\n\treturn (\n\t\t<div className={s.friend}>\n\t\t\t<img src={props.url} alt='avatar'></img>\n\t\t</div >\n\t)\n}\n\nexport default FriendItem;","import React from 'react';\nimport s from './FriendsBlock.module.css'\nimport style from '../../../Style.module.css'\nimport FriendItem from './FriendItem/FriendItem';\n\n\nconst FriendBlock = (props) => {\n\tlet friends = props.friends\n\t\t.map(f => <FriendItem url={f.avatar} name={f.name} key={f.id} />);\n\treturn (\n\t\t<div className={style.block}>\n\t\t\t<div className={style.blockName}>\n\t\t\t\t<span className={style.comingSoon}>\n\t\t\t\t\tFriends ({props.friends.length})\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className={s.container}>\n\t\t\t\t{friends}\n\t\t\t</div>\n\t\t</div >\n\t)\n}\n\nexport default FriendBlock;","import { connect } from 'react-redux';\nimport { getUserFriends } from '../../../redux/profileSelector';\nimport FriendBlock from './FriendsBlock';\n\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfriends: getUserFriends(state),\n\t}\n}\n\nexport default connect(mapStateToProps, {})(FriendBlock);","import React from 'react';\nimport s from './ProfileIntro.module.css'\nimport style from '../../../Style.module.css'\n\n\nconst ProfileIntro = (props) => {\n\treturn (\n\t\t<div className={style.block}>\n\t\t\t<div className={style.blockName}>\n\t\t\t\tProfile Intro\n\t\t\t</div>\n\t\t\t<div className={s.container}>\n\t\t\t\t<h4 className=\"title\">About Me:</h4>\n\t\t\t\t<span className=\"text\">{props.userProfile.aboutMe}</span>\n\t\t\t\t<h4 className=\"title\">Looking for a job description:</h4>\n\t\t\t\t<span className=\"text\">{props.userProfile.lookingForAJobDescription}</span>\n\t\t\t\t<h4 className=\"title\">Contacts:</h4>\n\t\t\t\t<ul>\n\t\t\t\t\t{Object.entries(props.userProfile.contacts).map(([key, value]) => value\n\t\t\t\t\t\t? value.toLowerCase().startsWith(\"http\")\n\t\t\t\t\t\t\t? <li key={key}><a href={value}>{key}</a></li>\n\t\t\t\t\t\t\t: <li key={key}><a href={'https://' + value}>{key}</a></li>\n\t\t\t\t\t\t: ' ')}\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\t\t</div >\n\t)\n}\n\nexport default ProfileIntro;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getUserProfile } from '../../../redux/profileSelector';\nimport ProfileIntro from './ProfileIntro';\n\nclass ProfileIntroContainer extends React.Component {\n\trender = () => {\n\t\treturn <ProfileIntro userProfile={this.props.userProfile} />\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tuserProfile: getUserProfile(state)\n})\n\nexport default connect(mapStateToProps, {})(ProfileIntroContainer);","import React from 'react';\nimport s from './Post.module.css'\nimport style from '../../../../Style.module.css'\n\ntype PropsType = {\n\tmessage: string\n\tcounts: number\n}\n\nconst Post: React.FC<PropsType> = ({ message, counts }) => {\n\treturn (\n\t\t<div className={`${s.item} ${style.block}`}>\n\t\t\t<img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcdS2G0_159FyiX7C5I-ed1aw2Nj_R3t1P9g&usqp=CAU' alt='mainImage'></img>\n\t\t\t{message}\n\t\t\t<div>\n\t\t\t\t<span>{counts} Likes </span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Post;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport style from '../../../Style.module.css';\nimport BigButton from '../../elements/BigButton';\nimport { InjectedFormProps, reduxForm } from 'redux-form';\nimport { createField, Textarea } from '../../elements/FormsControls';\nimport { PosteType } from '../../../redux/ProfileReducer';\n\ntype NewPostFormOunProps = {}\ntype NewPostFormValuesType = {\n\tpostText: string\n}\ntype NewPostFormValuesTypeKeys = keyof NewPostFormValuesType\n\nconst newPostForm: React.FC<InjectedFormProps<NewPostFormValuesType, NewPostFormOunProps>> & NewPostFormOunProps = (props) => {\n\treturn (\n\t\t<form onSubmit={props.handleSubmit} className={`${style.block} ${s.newPosteBlock}`}>\n\t\t\t<h3>Add post</h3>\n\t\t\t{createField<NewPostFormValuesTypeKeys>('Type new post...', 'postText', [], Textarea)}\n\t\t\t<BigButton value='Sent' />\n\t\t</form>\n\t)\n}\n\nconst NewPostReduxForm = reduxForm<NewPostFormValuesType, NewPostFormOunProps>({\n\tform: 'postMessage'\n})(newPostForm)\n\ntype MyPostsPropsType = {\n\tposts: Array<PosteType>\n\taddPost: (postText: string) => void\n}\nconst MyPosts: React.FC<MyPostsPropsType> = (props) => {\n\tlet postsElement = props.posts.map(p => <Post message={p.message} counts={p.likesCount} key={p.id} />).reverse();\n\tlet onSubmit = (formData: NewPostFormValuesType) => {\n\t\tprops.addPost(formData.postText)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<NewPostReduxForm onSubmit={onSubmit} />\n\t\t\t<div className={s.posts}>\n\t\t\t\t{postsElement}\n\t\t\t</div>\n\t\t</div >\n\t)\n}\n\nexport default MyPosts;\n\n","import { actionsProfileReducer } from '../../../redux/ProfileReducer';\nimport MyPosts from './MyPosts';\nimport { connect } from 'react-redux';\nimport { getPosts } from '../../../redux/profileSelector';\nimport { AppStateType } from '../../../redux/ReduxStore';\n\n\nconst mapStateToProps = (state: AppStateType) => {\n\treturn {\n\t\tposts: getPosts(state)\n\t}\n};\n\nconst MyPostsContainer = connect(mapStateToProps, { addPost: actionsProfileReducer.addPost })(MyPosts)\n\nexport default MyPostsContainer;","import React from 'react';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\nimport s from './Profile.module.css'\n\n\nconst Profile = () => {\n\treturn (\n\t\t<div className={s.content}>\n\t\t\t<MyPostsContainer />\n\t\t</div>\n\t)\n}\n\nexport default Profile;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { getMiId } from '../../redux/authSelector';\nimport { getUser } from '../../redux/ProfileReducer';\nimport { getUserProfile } from '../../redux/profileSelector';\nimport { AppStateType } from '../../redux/ReduxStore';\nimport Profile from './Profile';\n\ntype MapStateToPropsType = ReturnType<typeof mapStateToProps>\ntype MapDispatchToProps = {\n\tgetUser: (userId: number) => void\n}\ntype PathParamsType = {\n\tuserId: string\n}\ntype PropsType = RouteComponentProps<PathParamsType> & MapStateToPropsType & MapDispatchToProps\n\nclass ProfileContainer extends React.Component<PropsType> {\n\trefreshProfile = () => {\n\t\tlet userId: number | null = +this.props.match.params.userId || this.props.miId;\n\t\tthis.props.getUser(userId as number);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.refreshProfile()\n\t}\n\n\tcomponentDidUpdate = (prevProps: PropsType) => {\n\t\tif (this.props.match.params.userId !== prevProps.match.params.userId)\n\t\t\tthis.refreshProfile()\n\t}\n\n\trender = () => {\n\t\treturn <Profile />\n\t}\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n\treturn {\n\t\tuserProfile: getUserProfile(state),\n\t\tmiId: getMiId(state)\n\t}\n}\n\nexport default compose<React.ComponentType>(\n\tconnect(mapStateToProps, { getUser }),\n\twithRouter,\n\twithAuthRedirect\n)(ProfileContainer)\n","import React from \"react\";\nimport { Suspense } from \"react\";\n\n\nfunction withSuspense<WSP>(Component: React.ComponentType<WSP>) {\n\treturn (props: WSP) => {\n\t\treturn (\n\t\t\t<Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t<Component {...props} />\n\t\t\t</Suspense>\n\t\t)\n\t}\n}\n\nexport default withSuspense;","import React from 'react';\nimport { Redirect, Route, Router, Switch, withRouter } from 'react-router-dom';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport NavbarContainer from './components/Navbar/NavbarContainer';\nimport FriendsBlockContainer from './components/Sidebar/FriendsBlock/FriendsBlockContainer';\nimport ProfileIntroContainer from './components/Sidebar/ProfileIntro/ProfileIntroContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/AppReducer';\nimport Preloader from './components/elements/Preloader';\nimport { compose } from 'redux';\nimport withSuspense from './hoc/withSuspense';\nimport { AppStateType } from './redux/ReduxStore';\n\nconst Login = React.lazy(() => import('./components/Login/Login'));\nconst ProfileInfoContainer = React.lazy(() => import('./components/ProfileInfo/ProfileInfoContainer'));\nconst News = React.lazy(() => import('./components/News/News'));\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>\ntype MapDispatchPropsType = {\n  initializeApp: () => void\n}\n\nconst SuspendedDialogs = withSuspense(DialogsContainer)\nconst SuspendedUsers = withSuspense(UsersContainer)\nconst SuspendedLogin = withSuspense(Login)\nconst SuspendedProfileInfo = withSuspense(ProfileInfoContainer)\n\nclass App extends React.Component<MapStatePropsType & MapDispatchPropsType> {\n  componentDidMount = () => {\n    this.props.initializeApp()\n  }\n  render() {\n    if (!this.props.initialized) return <Preloader />\n\n    return (\n      <div>\n        <Route path='/login' render={() => <SuspendedLogin />} />\n        <div>\n          <HeaderContainer />\n          <div className='app-wrapper'>\n            <NavbarContainer />\n            <div className='app-wrapper-content'>\n              <Switch>\n                <Route exact path='/' render={() => <Redirect to='/profile' />} />\n                <Route path='/dialogs' render={() => <SuspendedDialogs />} />\n                <Route path='/profile/settings' render={() => <SuspendedProfileInfo />} />\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n                <Route path='/news' render={withSuspense(News)} />\n                <Route path='/music' render={withSuspense(Music)} />\n                <Route path='/users' render={() => <SuspendedUsers />} />\n                <Route path='/settings' render={withSuspense(Settings)} />\n              </Switch>\n            </div>\n            <div className='app-wrapper-right'>\n              <ProfileIntroContainer />\n              <FriendsBlockContainer />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n  initialized: state.app.initialized,\n})\n\nexport default compose<React.ComponentType>(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n","import reportWebVitals from './reportWebVitals';\nimport Store from './redux/ReduxStore';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux'\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t{/* <BrowserRouter> */}\n\t\t\t<Provider store={Store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t\t{/* </BrowserRouter> */}\n\t\t</HashRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { PhotosType, ProfileType } from \"../type/type\";\nimport { instanceAxios, APIResponseType } from \"./api\";\n\ntype SetPhotoResponseData = {\n\tphotos: PhotosType\n}\n\nexport const profileAPI = {\n\tgetUserProfile(userId: number) {\n\t\treturn instanceAxios.get<ProfileType>(`/profile/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tgetStatus(userId: number) {\n\t\treturn instanceAxios.get<string>(`/profile/status/` + userId)\n\t\t\t.then(response => response.data)\n\t},\n\tsetStatus(status: string) {\n\t\treturn instanceAxios.put<APIResponseType>('/profile/status', { status })\n\t\t\t.then(response => response.data)\n\t},\n\tsetProfileData(profileData: ProfileType) {\n\t\treturn instanceAxios.put<APIResponseType>('/profile', profileData)\n\t\t\t.then(response => response.data)\n\t},\n\tsetPhoto(filePhoto: File) {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"image\", filePhoto);\n\t\treturn instanceAxios.put<APIResponseType<SetPhotoResponseData>>('/profile/photo', formData, {\n\t\t\theaders: {\n\t\t\t\t\"content-type\": \"multipart/form-data\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => response.data)\n\t}\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"ProfileMenu_menu__15f_3\",\"menuContainer\":\"ProfileMenu_menuContainer__29BGD\",\"menuName\":\"ProfileMenu_menuName__2npTl\",\"menuList\":\"ProfileMenu_menuList__3gtY6\",\"menuLink\":\"ProfileMenu_menuLink__3tump\",\"signOut\":\"ProfileMenu_signOut__1xqKi\",\"statusChange\":\"ProfileMenu_statusChange__iQCE8\"};","import { stopSubmit } from \"redux-form\";\nimport { ThunkAction } from \"redux-thunk\";\nimport { profileAPI } from \"../api/profileAPI\";\nimport { ProfileType } from \"../type/type\";\nimport { actionsAuthReducer } from \"./AuthReducer\";\nimport { AppStateType, InferActionsTypes } from \"./ReduxStore\";\n\n\nlet initialState = {\n\tposts: [\n\t\t{ id: 1, message: 'Hi! It\\'s my first post in my social network', likesCount: 1 },\n\t\t{ id: 2, message: 'All work', likesCount: 2 },\n\t\t{ id: 3, message: 'Some post here', likesCount: 5 },\n\t\t{ id: 4, message: 'Short post', likesCount: 0 },\n\t] as Array<PosteType>,\n\tuserProfile: {\n\t\tuserId: null,\n\t\tfullName: null,\n\t\taboutMe: null,\n\t\tlookingForAJob: false,\n\t\tlookingForAJobDescription: null,\n\t\tphotos: {\n\t\t\tsmall: null,\n\t\t\tlarge: null\n\t\t},\n\t\tcontacts: {\n\t\t\tfacebook: null,\n\t\t\twebsite: null,\n\t\t\tvk: null,\n\t\t\ttwitter: null,\n\t\t\tinstagram: null,\n\t\t\tyoutube: null,\n\t\t\tgithub: null,\n\t\t\tmainLink: null\n\t\t},\n\t} as ProfileType,\n\tuserStatus: null as string | null,\n\tisFetching: false\n}\n\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'ADD_POST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, {\n\t\t\t\t\tid: ++state.posts.length,\n\t\t\t\t\tmessage: action.postText,\n\t\t\t\t\tlikesCount: 0,\n\t\t\t\t}]\n\t\t\t};\n\t\tcase 'DELETE_POST':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\n\t\t\t};\n\t\tcase 'SET_USER_PROFILE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserProfile: action.userProfile,\n\t\t\t};\n\t\tcase 'SET_FETCHING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.fetching,\n\t\t\t};\n\t\tcase 'SET_USER_STATUS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserStatus: action.status\n\t\t\t};\n\t\tdefault: return state;\n\t};\n};\n\n\nexport const actionsProfileReducer = {\n\taddPost: (postText: string) => ({ type: 'ADD_POST', postText } as const),\n\tdeletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\n\tsetUserStatus: (status: string) => ({ type: 'SET_USER_STATUS', status } as const),\n\tsetUserProfile: (userProfile: ProfileType) => ({ type: 'SET_USER_PROFILE', userProfile } as const),\n\tsetFetching: (fetching: boolean) => ({ type: 'SET_FETCHING', fetching } as const)\n}\n\n\nexport const getUser = (userId: number): ThunkType => {\n\treturn async (dispatch: any) => {\n\t\tconst userProfile = await profileAPI.getUserProfile(userId);\n\t\tdispatch(actionsProfileReducer.setUserProfile(userProfile));\n\n\t\tconst userStatus = await profileAPI.getStatus(userId);\n\t\tdispatch(actionsProfileReducer.setUserStatus(userStatus))\n\t}\n}\n\nexport const setProfileData = (profileData: ProfileType): ThunkType => {\n\treturn async (dispatch: any, getState: any) => {\n\t\tconst userId = getState().auth.userId;\n\t\tdispatch(actionsProfileReducer.setFetching(true))\n\t\tconst response = await profileAPI.setProfileData(profileData);\n\t\tif (response.resultCode === 0) {\n\t\t\tconst miData = await profileAPI.getUserProfile(userId)\n\t\t\tdispatch(actionsAuthReducer.setMiProfile(miData))\n\t\t} else {\n\t\t\tlet contactsError = new Map();\n\t\t\tlet otherError = new Map();\n\t\t\tresponse.messages.forEach((element: string) => {\n\t\t\t\tlet key = element.slice((element.indexOf('Contacts->') + 10), (element.length - 1)).toLowerCase();\n\t\t\t\tlet value = element.slice(0, (element.indexOf('(Contacts->') - 1));\n\t\t\t\tif (element.includes('Contacts->')) {\n\t\t\t\t\tcontactsError.set(key, value);\n\t\t\t\t} else {\n\t\t\t\t\totherError.set('_error', element);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(stopSubmit('ProfileInfo', { ...Object.fromEntries(otherError), 'contacts': Object.fromEntries(contactsError) }))\n\t\t}\n\t\tdispatch(actionsProfileReducer.setFetching(false))\n\t}\n}\n\n\nexport default profileReducer;\n\n\nexport type PosteType = {\n\tid: number\n\tmessage: string\n\tlikesCount: number\n}\ntype InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actionsProfileReducer>\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"FormsControls_inputContainer__2Ovpx\",\"input\":\"FormsControls_input__1i9a4\",\"error\":\"FormsControls_error__3oS1U\",\"errorMessage\":\"FormsControls_errorMessage__1xBnB\",\"description\":\"FormsControls_description__2znvV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FriendsBlock_container__1pzrw\",\"friend\":\"FriendsBlock_friend__1X8nA\"};","import React from 'react';\nimport { Field, WrappedFieldMetaProps } from 'redux-form';\nimport { FieldValidatorsType } from '../../utils/validators';\nimport s from './FormsControls.module.css';\n\ntype FormControlPropsType = {\n\tmeta: WrappedFieldMetaProps\n\tdescription?: string\n\tinput: any\n\tchildren?: React.ReactNode\n\n}\n\nconst Element = (Element: string): React.FC<FormControlPropsType> => ({ meta, input, ...props }) => {\n\tconst hasErr = meta.touched && meta.error;\n\treturn (\n\t\t<div className={s.inputContainer + ' ' + (hasErr ? s.error : '')}>\n\t\t\t<Element {...input} {...props} className={s.input} />\n\t\t\t{props.description ? <span className={s.description}>{props.description}</span> : ''}\n\t\t\t{hasErr && <div className={s.errorMessage}>{meta.error}</div>}\n\t\t</div>\n\t)\n}\n\nexport const Input = Element('input');\n\nexport const Textarea = Element('textarea');\n\n\n\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\n\tname: FormKeysType,\n\tvalidators: Array<FieldValidatorsType>,\n\tcomponent: React.FC<FormControlPropsType>,\n\tdescription = '', props = {}) {\n\treturn (\n\t\t<div>\n\t\t\t<Field placeholder={placeholder} name={name} validate={validators} component={component} {...props} description={description} />\n\t\t</div>\n\t)\n}\n\nexport default Element;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPosteBlock\":\"MyPosts_newPosteBlock__1S_bJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"BigButton_button__17-al\",\"cancel\":\"BigButton_cancel__1eqgI\"};"],"sourceRoot":""}