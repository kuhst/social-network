{"version":3,"sources":["components/Users/Users.module.css","components/elements/Paginator.module.css","assets/images/user.png","components/Users/User.tsx","assets/images/angleRightSolid.svg","assets/images/angleLeftSolid.svg","components/elements/Paginator.tsx","components/Users/Users.tsx","redux/usersSelector.ts","components/Users/UsersContainer.tsx"],"names":["module","exports","User","id","photo","name","status","followed","follow","unfollow","followingInProgress","className","style","block","s","to","userPhoto","src","alt","Avatar","container","user","userName","button","BigButton","disabled","some","userId","value","click","Paginator","itemsCount","itemsCountOnPage","currentPage","onPageChanged","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","leftArrow","filter","p","map","rightArrow","Users","usersCount","usersCountOnPage","users","props","usersItems","u","photos","large","usersPage","getUsers","state","getUsersCount","getUsersCountOnPage","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPIComponent","componentDidMount","responseUsers","pageNumber","render","Preloader","React","Component","UsersContainer","connect"],"mappings":"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","file":"static/js/3.739100ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Users_pages__2ZPtK\",\"usersPage\":\"Users_usersPage__3xdAn\",\"block\":\"Users_block__1re8X\",\"userPhoto\":\"Users_userPhoto__17MJB\",\"container\":\"Users_container__6F9oG\",\"user\":\"Users_user__1dQYj\",\"userName\":\"Users_userName__1mt5V\",\"status\":\"Users_status__E0SMG\",\"button\":\"Users_button__1saaY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Paginator_container__f8TvL\",\"pages\":\"Paginator_pages__2kyJo\",\"currentPage\":\"Paginator_currentPage__240Ug\",\"button\":\"Paginator_button__3aJZ7\"};","export default __webpack_public_path__ + \"static/media/user.03b91692.png\";","import React from 'react';\nimport BigButton from '../elements/BigButton';\nimport s from './Users.module.css'\nimport style from '../../Style.module.css';\nimport userPhoto from '../../assets/images/user.png';\nimport { NavLink } from 'react-router-dom';\n\ntype PropsType = {\n\tid: number\n\tphoto: string | null\n\tname: string\n\tstatus: string | null\n\tfollowed: boolean\n\tfollowingInProgress: Array<number>\n\n\tfollow: (userId: number) => void\n\tunfollow: (userId: number) => void\n}\n\nconst User: React.FC<PropsType> = ({ id, photo, name, status, followed, follow, unfollow, followingInProgress }) => {\n\treturn (\n\t\t<div className={style.block + ' ' + s.block} >\n\t\t\t<NavLink to={`/profile/` + id}>\n\t\t\t\t<div className={s.userPhoto}>\n\t\t\t\t\t<img src={(photo) ? photo : userPhoto} alt={s.Avatar}></img>\n\t\t\t\t</div>\n\t\t\t</NavLink>\n\t\t\t<div className={s.container}>\n\t\t\t\t<div className={s.user}>\n\t\t\t\t\t<div className={s.userName}>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</div>\n\t\t\t\t\t{status\n\t\t\t\t\t\t? <div className={s.status}><span>{status}</span></div>\n\t\t\t\t\t\t: <></>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.button}>\n\t\t\t\t\t{followed\n\t\t\t\t\t\t? <BigButton disabled={followingInProgress.some(userId => userId === id)} value='unfollow'\n\t\t\t\t\t\t\tclick={() => { unfollow(id) }} />\n\t\t\t\t\t\t: <BigButton disabled={followingInProgress.some(userId => userId === id)} value='follow'\n\t\t\t\t\t\t\tclick={() => { follow(id) }} />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\nexport default User;","export default __webpack_public_path__ + \"static/media/angleRightSolid.7d1c04c1.svg\";","export default __webpack_public_path__ + \"static/media/angleLeftSolid.bb631305.svg\";","import React, { useState } from \"react\";\nimport s from './Paginator.module.css';\nimport rightArrow from '../../assets/images/angleRightSolid.svg';\nimport leftArrow from '../../assets/images/angleLeftSolid.svg';\n\ntype PropsType = {\n\titemsCount: number\n\titemsCountOnPage: number\n\tcurrentPage: number\n\n\tonPageChanged: (pageNumber: number) => void\n}\n\nexport const Paginator: React.FC<PropsType> = ({ itemsCount, itemsCountOnPage, currentPage, onPageChanged }) => {\n\tlet pageCount = Math.ceil(itemsCount / itemsCountOnPage);\n\n\tlet pages = [];\n\tif (currentPage) {\n\t\tfor (let i = 1; i <= pageCount; i++) {\n\t\t\tpages.push(i)\n\t\t}\n\t}\n\tlet portionSize = 10;\n\tlet portionCount = Math.ceil(pageCount / portionSize);\n\tlet [portionNumber, setPortionNumber] = useState(1);\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tlet rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn <div className={s.container}>\n\n\t\t<button onClick={() => setPortionNumber(--portionNumber)} className={s.button}>\n\t\t\t{portionNumber > 1 && <img src={leftArrow} alt='leftArrow' />}\n\t\t</button>\n\t\t<div className={s.pages}>\n\t\t\t{pages\n\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n\t\t\t\t.map(p => <span className={p === currentPage ? s.currentPage : ''}\n\t\t\t\t\tonClick={() => { onPageChanged(p) }} key={p}>{p}</span>)}\n\t\t</div>\n\t\t<button onClick={() => setPortionNumber(++portionNumber)} className={s.button}>\n\t\t\t{portionNumber < portionCount && <img src={rightArrow} alt='rightArrow' />}\n\t\t</button>\n\t</div>\n}\n\nexport default Paginator;","import React from 'react';\nimport s from './Users.module.css'\nimport User from './User';\nimport Paginator from '../elements/Paginator';\nimport { UserType } from '../../type/type';\n\ntype PropsType = {\n\tusersCount: number\n\tusersCountOnPage: number\n\tcurrentPage: number\n\tusers: Array<UserType>\n\tfollowingInProgress: Array<number>\n\n\tunfollow: (userId: number) => void\n\tfollow: (userId: number) => void\n\tonPageChanged: (pageNumber: number) => void\n}\n\nconst Users: React.FC<PropsType> = ({ usersCount, usersCountOnPage, currentPage, onPageChanged, users, ...props }) => {\n\n\tlet usersItems = users.map(u => <User\n\t\tkey={u.id} id={u.id} name={u.name}\n\t\tphoto={u.photos.large} status={u.status}\n\t\tfollowed={u.followed} followingInProgress={props.followingInProgress}\n\t\tunfollow={props.unfollow} follow={props.follow} />)\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={s.pages}>\n\t\t\t\t<Paginator itemsCount={usersCount} itemsCountOnPage={usersCountOnPage}\n\t\t\t\t\tcurrentPage={currentPage} onPageChanged={onPageChanged} />\n\t\t\t</div>\n\t\t\t<div className={s.usersPage}>\n\t\t\t\t{usersItems}\n\t\t\t</div>\n\t\t</div >\n\t)\n}\n\n\nexport default Users;","import { AppStateType } from \"./ReduxStore\";\n\nexport const getUsers = (state: AppStateType) => {\n\treturn state.usersPage.users;\n}\n\nexport const getUsersCount = (state: AppStateType) => {\n\treturn state.usersPage.usersCount;\n}\n\nexport const getUsersCountOnPage = (state: AppStateType) => {\n\treturn state.usersPage.usersCountOnPage;\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n\treturn state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n\treturn state.usersPage.followingInProgress;\n}\n\n// export const getUsers = (state) => {\n// \treturn state.usersPage.users;\n// }\n\n// export const getUsers = (state) => {\n// \treturn state.usersPage.users;\n// }","import React from 'react';\nimport { connect } from 'react-redux';\nimport { follow, unfollow, responseUsers } from '../../redux/UsersReducer';\nimport Users from './Users';\nimport Preloader from '../elements/Preloader';\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getUsers, getUsersCount, getUsersCountOnPage } from '../../redux/usersSelector';\nimport { AppStateType } from '../../redux/ReduxStore';\nimport { UserType } from '../../type/type';\n\ntype MapStatePropsType = {\n\tusersCountOnPage: number\n\tcurrentPage: number\n\tisFetching: boolean\n\tusersCount: number\n\tusers: Array<UserType>\n\tfollowingInProgress: Array<number>\n}\n\ntype MapDispatchToProps = {\n\tresponseUsers: (usersCountOnPage: number, currentPage: number) => void\n\tfollow: (userId: number) => void\n\tunfollow: (userId: number) => void\n}\n\ntype PropsType = MapStatePropsType & MapDispatchToProps\n\nclass UsersAPIComponent extends React.Component<PropsType> {\n\tcomponentDidMount = () => {\n\t\tthis.props.responseUsers(this.props.usersCountOnPage, this.props.currentPage);\n\t}\n\tonPageChanged = (pageNumber: number) => {\n\t\tthis.props.responseUsers(this.props.usersCountOnPage, pageNumber);\n\t}\n\trender = () => {\n\t\treturn <>\n\t\t\t{this.props.isFetching\n\t\t\t\t? <Preloader />\n\t\t\t\t: <Users usersCount={this.props.usersCount}\n\t\t\t\t\tusersCountOnPage={this.props.usersCountOnPage}\n\t\t\t\t\tcurrentPage={this.props.currentPage}\n\t\t\t\t\tusers={this.props.users}\n\t\t\t\t\tfollowingInProgress={this.props.followingInProgress}\n\t\t\t\t\tfollow={this.props.follow}\n\t\t\t\t\tunfollow={this.props.unfollow}\n\t\t\t\t\tonPageChanged={this.onPageChanged}\n\t\t\t\t/>\n\t\t\t};\n\t\t</>;\n\t}\n}\n\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\n\treturn {\n\t\tusers: getUsers(state),\n\t\tusersCount: getUsersCount(state),\n\t\tusersCountOnPage: getUsersCountOnPage(state),\n\t\tcurrentPage: getCurrentPage(state),\n\t\tisFetching: getIsFetching(state),\n\t\tfollowingInProgress: getFollowingInProgress(state),\n\t}\n}\n\nconst UsersContainer = connect(\n\tmapStateToProps, { follow, unfollow, responseUsers }\n)(UsersAPIComponent);\n\nexport default UsersContainer;"],"sourceRoot":""}