(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{308:function(e,t,n){e.exports={pages:"Users_pages__2ZPtK",usersPage:"Users_usersPage__3xdAn",block:"Users_block__1re8X",userPhoto:"Users_userPhoto__17MJB",container:"Users_container__6F9oG",user:"Users_user__1dQYj",userName:"Users_userName__1mt5V",status:"Users_status__E0SMG",button:"Users_button__1saaY"}},314:function(e,t,n){e.exports={container:"Paginator_container__f8TvL",pages:"Paginator_pages__2kyJo",currentPage:"Paginator_currentPage__240Ug",button:"Paginator_button__3aJZ7"}},327:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersPage",(function(){return I}));var s=n(1),r=n.n(s),c=n(12),a=n(3),i=n(308),u=n.n(i),o=n(101),l=n(11),j=n.n(l),b=n.p+"static/media/user.03b91692.png",d=n(25),f=n(0),g=function(e){var t=e.user,n=e.follow,s=e.unfollow,r=e.followingInProgress;return Object(f.jsxs)("div",{className:j.a.block+" "+u.a.block,children:[Object(f.jsx)(d.b,{to:"/profile/"+t.id,children:Object(f.jsx)("div",{className:u.a.userPhoto,children:Object(f.jsx)("img",{src:t.photos.large?t.photos.large:b,alt:u.a.Avatar})})}),Object(f.jsxs)("div",{className:u.a.container,children:[Object(f.jsxs)("div",{className:u.a.user,children:[Object(f.jsx)("div",{className:u.a.userName,children:t.name}),t.status?Object(f.jsx)("div",{className:u.a.status,children:Object(f.jsx)("span",{children:t.status})}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsx)("div",{className:u.a.button,children:t.followed?Object(f.jsx)(o.a,{disabled:r.some((function(e){return e===t.id})),value:"unfollow",click:function(){s(t.id)}}):Object(f.jsx)(o.a,{disabled:r.some((function(e){return e===t.id})),value:"follow",click:function(){n(t.id)}})})]})]})},O=n(70),m=n(314),h=n.n(m),x=n.p+"static/media/angleRightSolid.7d1c04c1.svg",p=n.p+"static/media/angleLeftSolid.bb631305.svg",_=function(e){var t=e.itemsCount,n=e.itemsCountOnPage,r=e.currentPage,c=e.onPageChanged,a=Math.ceil(t/n),i=[];if(r)for(var u=1;u<=a;u++)i.push(u);var o=Math.ceil(a/10),l=Object(s.useState)(1),j=Object(O.a)(l,2),b=j[0],d=j[1],g=10*(b-1)+1,m=10*b;return Object(f.jsxs)("div",{className:h.a.container,children:[Object(f.jsx)("button",{onClick:function(){return d(--b)},className:h.a.button,children:b>1&&Object(f.jsx)("img",{src:p,alt:"leftArrow"})}),Object(f.jsx)("div",{className:h.a.pages,children:i.filter((function(e){return e>=g&&e<=m})).map((function(e){return Object(f.jsx)("span",{className:e===r?h.a.currentPage:"",onClick:function(){c(e)},children:e},e)}))}),Object(f.jsx)("button",{onClick:function(){return d(++b)},className:h.a.button,children:b<o&&Object(f.jsx)("img",{src:x,alt:"rightArrow"})})]})},v=n(321),P=function(e){return e.usersPage.users},N=function(e){return e.usersPage.usersCount},w=function(e){return e.usersPage.usersCountOnPage},C=function(e){return e.usersPage.currentPage},k=function(e){return e.usersPage.isFetching},S=function(e){return e.usersPage.followingInProgress},U=function(e){return e.usersPage.filter},y=function(){return{}},F=r.a.memo((function(e){var t=e.onFilterChanged,n=Object(c.d)(U);return Object(f.jsx)("div",{className:u.a.usersSearch,children:Object(f.jsx)(v.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:y,onSubmit:function(e,n){var s=n.setSubmitting;t({term:e.term,friend:"null"===e.friend?null:"true"===e.friend}),s(!1)},children:function(e){var t=e.isSubmitting;return Object(f.jsxs)(v.b,{children:[Object(f.jsx)(v.a,{type:"term",name:"term"}),Object(f.jsxs)(v.a,{as:"select",name:"friend",children:[Object(f.jsx)("option",{value:"null",children:"All"}),Object(f.jsx)("option",{value:"true",children:"Only followed"}),Object(f.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(f.jsx)("button",{type:"submit",disabled:t,children:"Search"})]})}})})})),A=n(135),J=n(13),M=r.a.memo((function(e){var t=Object(c.d)(P),r=Object(c.d)(N),i=Object(c.d)(w),o=Object(c.d)(C),l=Object(c.d)(S),j=Object(c.d)(U),b=Object(c.c)(),d=Object(J.g)(),O=n(318);Object(s.useEffect)((function(){var e=O.parse(d.location.search.substr(1)),t=o,n=j;e.page&&(t=+e.page),e.term&&(n=Object(a.a)(Object(a.a)({},n),{},{term:e.term})),e.friend&&(n=Object(a.a)(Object(a.a)({},n),{},{friend:"null"===e.friend?null:"true"===e.friend})),console.log(e),b(Object(A.c)(i,t,n))}),[]),Object(s.useEffect)((function(){var e={};j.term&&(e.term=j.term),null!==j.friend&&(e.friend=String(j.friend)),1!==o&&(e.page=String(o)),d.push({pathname:"/users",search:O.stringify(e)})}),[j,o]);var m=function(e){b(Object(A.b)(e))},h=function(e){b(Object(A.d)(e))},x=t.map((function(e){return Object(f.jsx)(g,{user:e,followingInProgress:l,unfollow:h,follow:m},e.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)(F,{onFilterChanged:function(e){b(Object(A.c)(i,1,e))}}),Object(f.jsx)("div",{className:u.a.pages,children:Object(f.jsx)(_,{itemsCount:r,itemsCountOnPage:i,currentPage:o,onPageChanged:function(e){b(Object(A.c)(i,e,j))}})}),Object(f.jsx)("div",{className:u.a.usersPage,children:x})]})})),E=n(103),I=function(){var e=Object(c.d)(k);return Object(f.jsxs)(f.Fragment,{children:[e?Object(f.jsx)(E.a,{}):null,Object(f.jsx)(M,{})]})}}}]);
//# sourceMappingURL=4.95986247.chunk.js.map