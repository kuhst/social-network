(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,n){"use strict";n(1);var r=n(98),a=n.n(r),s=n(0);t.a=function(e){var t=e.value,n=e.click,r=e.disabled;return Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:a.a.button+" "+("Cancel"===t?a.a.cancel:""),onClick:n,disabled:r,children:t})})}},103:function(e,t,n){"use strict";n(1);var r=n.p+"static/media/preloaderCircle.c32a7a57.svg",a=n(145),s=n.n(a),c=n(0);t.a=function(){return Object(c.jsx)("div",{className:s.a.preloader,children:Object(c.jsx)("img",{src:r,alt:"Preloader"})})}},11:function(e,t,n){e.exports={container:"Style_container__2zXzS",block:"Style_block__2NKmM",blockName:"Style_blockName__1y7Ic",comingSoon:"Style_comingSoon__1sOMO",errorSubmitForm:"Style_errorSubmitForm__1L_4y"}},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n.n(r),s=n(18),c=n(49),i=n(3),o={dialogsData:[{id:1,name:"Perec",avatar:"https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg"},{id:2,name:"Vasia",avatar:"http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg"},{id:3,name:"Vova",avatar:"https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg"},{id:4,name:"Anton",avatar:"https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg"}],messages:[{id:1,message:"hi!",from:"friend"},{id:2,message:"How is your programing?",from:"friend"},{id:3,message:"Ok",from:"mi"},{id:4,message:"Cool!",from:"friend"},{id:5,message:"Some log message. skfjnvksv sdoiv csodifvjc skdjvn sdfcjvsfldkv dsfkv dfkjnvd kfjvnd",from:"mi"}]},u=function(e){return{type:"ADD_MESSAGE",message:e}},l=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(u(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),[{id:++e.messages.length,message:t.message,from:"mi"}])});default:return e}}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(74),s=(n(1),n(12)),c=n(13),i=n(0),o=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(s.b)(u,{})((function(t){var n=t.isAuth,s=Object(a.a)(t,o);return n?Object(i.jsx)(e,Object(r.a)({},s)):Object(i.jsx)(c.a,{to:"/login"})}))}},135:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return N}));var r=n(9),a=n.n(r),s=n(18),c=n(49),i=n(3),o=n(19),u={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{term:"",friend:null};return o.a.get("/users?count=".concat(e,"&page=").concat(t,"&term=").concat(n.term,"&friend=").concat(null===n.friend?"":n.friend)).then((function(e){return e.data}))},follow:function(e){return o.a.post("/follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return o.a.delete("/follow/".concat(e)).then((function(e){return e.data}))}},l=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},d={users:[],usersCount:0,usersCountOnPage:12,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},f=function(e){return{type:"FOLLOW",userId:e}},p=function(e){return{type:"UNFOLLOW",userId:e}},j=function(e){return{type:"SET_USERS",users:e}},b=function(e){return{type:"SET_FILTER",filter:e}},h=function(e){return{type:"SET_PAGE_NUMBER",pageNumber:e}},m=function(e){return{type:"SET_USERS_COUNT",usersCount:e}},O=function(e){return{type:"SET_FETCHING",isFetching:e}},g=function(e,t){return{type:"TOGGLE_IS_FOLLOWING",isFollowing:e,userId:t}},_=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(O(!0)),s(h(t)),s(b(n)),console.log("before"),r.next=6,u.getUsers(e,t,n);case 6:c=r.sent,console.log("after"),s(j(c.items)),s(m(c.totalCount)),s(O(!1));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},v=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(s(t)),n(g(!1,t));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e,n,u.unfollow.bind(u),p);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e,n,u.follow.bind(u),f);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"SET_PAGE_NUMBER":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.pageNumber});case"SET_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{usersCount:t.usersCount});case"SET_FILTER":return Object(i.a)(Object(i.a)({},e),{},{filter:t.filter});case"SET_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING":return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},14:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",wallpaper:"Navbar_wallpaper__1DlQr",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE",menu:"Navbar_menu__NKpxG",menuLeft:"Navbar_menuLeft__1-CBC",menuRight:"Navbar_menuRight__1hhAo",userBlock:"Navbar_userBlock__yi49o",userPhoto:"Navbar_userPhoto__2OkdO",userName:"Navbar_userName__3NVEZ",status:"Navbar_status__2Q0dS",photoUpload:"Navbar_photoUpload__1tWKu",menuPhoto:"Navbar_menuPhoto__3B8Vs",container:"Navbar_container__1ESpZ",label:"Navbar_label__2vojo",uploadFileText:"Navbar_uploadFileText__iYdut",uploadFileInput:"Navbar_uploadFileInput__1526y"}},141:function(e,t,n){e.exports={container:"ProfileIntro_container__1Nlan"}},142:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},144:function(e,t,n){},145:function(e,t,n){e.exports={preloader:"Preloader_preloader__SMTGm"}},15:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87",login:"Header_login__3V3Qa",logo:"Header_logo__3_SJs",mainName:"Header_mainName__1HPVb",secondName:"Header_secondName__2K9lp",search:"Header_search__ckDys",freeSpace:"Header_freeSpace__2bhUy",menuList:"Header_menuList__3jhVl",menuLink:"Header_menuLink__ig-eX",user:"Header_user__1QDl1",arrow:"Header_arrow__1S-AG",menu:"Header_menu__BQHSW",userPhoto:"Header_userPhoto__3zN07",controlBlock:"Header_controlBlock__14paH",name:"Header_name__2-9cn",status:"Header_status__2bL1G"}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,a,s=n(137),c=n.n(s).a.create({withCredentials:!0,headers:{"API-KEY":"65f23381-a001-469d-b8d8-33dccd7a4fd2"},baseURL:"https://social-network.samuraijs.com/api/1.0"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},21:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return l}));var r=function(e){return e.profilePage.userProfile},a=function(e){return e.sidebar.friends},s=function(e){return e.profilePage.posts},c=function(e){return e.profilePage.userProfile.fullName},i=function(e){return e.profilePage.userProfile.userId},o=function(e){return e.profilePage.userStatus},u=function(e){return e.profilePage.userProfile.photos.small},l=function(e){return e.profilePage.isFetching}},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.captchaURL},s=function(e){return e.auth.userId},c=function(e){return e.auth.status},i=function(e){return e.auth.profile},o=function(e){return e.auth.profile.fullName},u=function(e){return e.auth.profile.photos.small},l=function(e){return e.auth.isLoading}},255:function(e,t,n){},256:function(e,t,n){},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return _}));var r=n(9),a=n.n(r),s=n(18),c=n(3),i=n(41),o=n(19),u=function(){return o.a.get("/auth/me").then((function(e){return e.data}))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.a.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},d=function(){return o.a.delete("/auth/login").then((function(e){return e.data}))},f=function(){return o.a.get("/security/get-captcha-url").then((function(e){return e.data}))},p=n(34),j={userId:null,login:null,email:null,captchaURL:null,isAuth:!1,isLoading:!1,status:null,profile:{aboutMe:null,lookingForAJob:null,lookingForAJobDescription:null,fullName:null,userId:null,photos:{small:null,large:null},contacts:{facebook:null,website:null,vk:null,twitter:null,instagram:null,youtube:null,github:null,mainLink:null}}},b={setAuthUserData:function(e,t,n,r){return{type:"USER_AUTH",data:{userId:e,login:t,email:n,isAuth:r}}},setMiStatus:function(e){return{type:"SET_STATUS",status:e}},setMiProfile:function(e){return{type:"USER_PROFILE",profile:e}},setLoading:function(e){return{type:"SET_LOADING",isLoading:e}},setUserPhotoSuccess:function(e){return{type:"SET_USER_PHOTO_SUCCESS",photos:e}},setCaptchaURL:function(e){return{type:"SET_CAPTCHA_URL",captchaURL:e}}},h=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,i,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b.setCaptchaURL(null)),e.next=3,u();case 3:if(0!==(n=e.sent).resultCode){e.next=15;break}return r=n.data,s=r.id,c=r.login,i=r.email,t(b.setAuthUserData(s,c,i,!0)),e.next=9,p.a.getUserProfile(s);case 9:return o=e.sent,t(b.setMiProfile(o)),e.next=13,p.a.getStatus(s);case 13:l=e.sent,t(b.setMiStatus(l));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b.setLoading(!0)),t.next=3,p.a.setStatus(e);case 3:if(r=t.sent,n(b.setLoading(!1)),0===r.resultCode){t.next=7;break}return t.abrupt("return");case 7:n(b.setMiStatus(e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e,t,n,r){return function(){var c=Object(s.a)(a.a.mark((function s(c){var o,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l(e,t,n,r);case 2:if(0!==(o=a.sent).resultCode){a.next=7;break}c(h()),a.next=13;break;case 7:if(10!==o.resultCode){a.next=12;break}return a.next=10,f();case 10:u=a.sent,c(b.setCaptchaURL(u.url));case 12:c(Object(i.a)("login",{_error:o.messages}));case 13:case"end":return a.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}()},g=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(0===e.sent.resultCode){e.next=5;break}return e.abrupt("return");case 5:t(b.setAuthUserData(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.setPhoto(e);case 2:0===(r=t.sent).resultCode&&n(b.setUserPhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH":return Object(c.a)(Object(c.a)({},e),t.data);case"SET_CAPTCHA_URL":return Object(c.a)(Object(c.a)({},e),{},{captchaURL:t.captchaURL});case"USER_PROFILE":return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case"SET_LOADING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:t.isLoading});case"SET_USER_PHOTO_SUCCESS":return Object(c.a)(Object(c.a)({},e),{},{profile:Object(c.a)(Object(c.a)({},e.profile),{},{photos:t.photos})});default:return e}}},304:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,322)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},a=n(10),s=n(30),c=n(112),i=n(38),o={friends:[{id:1,name:"Perec",avatar:"https://i0.wp.com/7youtube.ru/wp-content/uploads/2017/01/dmdmdmddsaaaa.jpg"},{id:2,name:"Vasia",avatar:"http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg"},{id:3,name:"Vova",avatar:"https://ispolnu.ru/uploads/services/20180618/1529316303dbca.jpg"},{id:4,name:"Anton",avatar:"https://discordgid.ru/wp-content/uploads/2020/03/diskord-avatar.jpg"},{id:5,name:"Mary",avatar:"https://omoro.ru/wp-content/uploads/2018/05/prikilnie-kartinki-na-avatarky-dlia-devyshek-9.jpg"},{id:6,name:"Kolja",avatar:"https://f1.upet.com/A_r2u6uZhnxA_x.jpg"},{id:7,name:"Dron",avatar:"https://pristor.ru/wp-content/uploads/2018/07/%D0%9E%D1%82%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B8-%D1%84%D0%BE%D1%82%D0%BE-%D0%BD%D0%B0-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D1%83-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B0%D1%80%D0%BD%D0%B5%D0%B9-%D0%B8-%D0%BC%D1%83%D0%B6%D1%87%D0%B8%D0%BD-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0-2018-17-726x1024.jpg"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return e},l=n(135),d=n(138),f=n(136),p=n(3),j={initialized:!1},b=function(){return{type:"INITIALIZED_SUCCESS"}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},m=Object(a.c)({dialogsPage:c.b,profilePage:i.b,usersPage:l.a,sidebar:u,auth:s.b,app:h,form:f.a}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,g=Object(a.e)(m,O(Object(a.a)(d.a)));window.store=g;var _=g,v=n(1),x=n.n(v),N=n(68),S=n.n(N),P=(n(255),n(26)),k=n(72),w=n(28),C=n(27),D=n(13),E=(n(256),n(12)),y=n(25),I=n(11),U=n.n(I),L=n(15),T=n.n(L),A=n.p+"static/media/user.d8e8e1fe.jpg",B=n.p+"static/media/preloaderPoint.7aaa1561.svg",F=n(70),M=n(35),R=n.n(M),H=n(0),z=x.a.memo((function(e){var t=Object(v.useState)(e.status),n=Object(F.a)(t,2),r=n[0],a=n[1];Object(v.useEffect)((function(){a(e.status)}),[e.status]);return Object(H.jsx)("div",{className:R.a.menu,children:Object(H.jsxs)("div",{className:U.a.block+" "+R.a.menuContainer,children:[Object(H.jsx)("div",{className:R.a.menuName,children:"YOUR ACCOUNT"}),Object(H.jsxs)("ul",{className:R.a.menuList,children:[Object(H.jsx)(y.b,{to:"/profile/settings",children:Object(H.jsx)("li",{className:R.a.menuLink,children:"Profile Settings"})}),Object(H.jsx)("li",{onClick:e.logOut,className:R.a.menuLink+" "+R.a.signOut,children:Object(H.jsx)("span",{children:"Sign out"})})]}),Object(H.jsx)("div",{className:R.a.menuName,children:"CHANGE STATUS"}),Object(H.jsxs)("div",{className:R.a.statusChange,children:[Object(H.jsx)("input",{onChange:function(e){a(e.currentTarget.value)},autoFocus:!0,placeholder:"Type new post...",value:r||void 0}),Object(H.jsx)("button",{onClick:function(){e.setStatus(r)},children:"Sent"})]})]})})})),G=function(e){var t=Object(H.jsx)("div",{className:T.a.preloader,children:Object(H.jsx)("img",{src:B,alt:"Preloader"})}),n=Object(H.jsx)("span",{children:e.status||"no status"}),r=Object(H.jsx)(y.b,{to:"/login",className:T.a.login,children:"Log In"}),a=Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("ul",{className:T.a.menuList,children:Object(H.jsx)("li",{className:T.a.menuLink,children:Object(H.jsxs)("div",{className:T.a.user,children:[Object(H.jsx)("div",{className:T.a.userPhoto,children:Object(H.jsx)("img",{src:e.photo?e.photo:A,alt:"mainImage"})}),Object(H.jsxs)("div",{className:T.a.controlBlock,children:[Object(H.jsx)("div",{className:T.a.name,children:e.miName}),Object(H.jsx)("div",{className:T.a.status,children:e.loading?t:n})]}),Object(H.jsx)("div",{className:T.a.menu,children:Object(H.jsx)(z,{status:e.status,setStatus:e.setStatus,logOut:e.logOut})})]})})})});return Object(H.jsx)("header",{className:T.a.header,children:Object(H.jsxs)("div",{className:"".concat(U.a.container," ").concat(T.a.container),children:[Object(H.jsxs)("div",{className:T.a.logo,children:[Object(H.jsx)("span",{className:T.a.mainName,children:"SAMURAIS"}),Object(H.jsx)("span",{className:T.a.secondName,children:"social network"})]}),Object(H.jsx)("div",{className:T.a.freeSpace}),Object(H.jsx)("input",{placeholder:"Search here...",className:T.a.search+" "+U.a.comingSoon}),e.isAuth?a:r]})})},V=n(22),J=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(H.jsx)(G,{miName:e.props.miName,status:e.props.status,logOut:e.props.logOut,isAuth:e.props.isAuth,photo:e.props.photo,loading:e.props.loading,setStatus:e.props.setStatus})},e}return n}(x.a.Component),W=Object(E.b)((function(e){return{isAuth:Object(V.b)(e),userId:Object(V.e)(e),miName:Object(V.d)(e),status:Object(V.h)(e),photo:Object(V.f)(e),loading:Object(V.c)(e)}}),{setStatus:s.f,logOut:s.e})(J),q=n(14),K=n.n(q),Q=function(e){return Object(H.jsx)("div",{className:K.a.item,children:Object(H.jsx)(y.b,{to:e.link,activeClassName:K.a.activeLink,className:e.className,children:e.link[1].toUpperCase()+e.link.slice(2)})})},X=n.p+"static/media/sliders.957e732c.svg",Y=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPhotoChange=function(t){t.target.files&&t.target.files.length&&e.props.setUserPhoto(t.target.files[0])},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.props.userPhoto?this.props.userPhoto:A,n=this.props.status?Object(H.jsx)("div",{className:K.a.status,children:this.props.status}):"",r=[{link:"/profile",forInitialized:!0,className:""},{link:"/dialogs",forInitialized:!0,className:""},{link:"/news",forInitialized:!1,className:U.a.comingSoon},{link:"/music",forInitialized:!1,className:U.a.comingSoon},{link:"/users",forInitialized:!1,className:""},{link:"/settings",forInitialized:!1,className:U.a.comingSoon}].map((function(t,n){return e.props.isAuth?Object(H.jsx)(Q,{link:t.link,className:t.className},n):t.forInitialized?Object(H.jsx)(H.Fragment,{}):Object(H.jsx)(Q,{link:t.link,className:t.className},n)}));return Object(H.jsxs)("nav",{className:"".concat(K.a.nav," ").concat(U.a.block),children:[Object(H.jsx)("div",{className:K.a.wallpaper,children:Object(H.jsx)("img",{src:"https://html.crumina.net/html-olympus/img/top-header1.webp",alt:"wallpaper"})}),Object(H.jsxs)("div",{className:K.a.menu,children:[Object(H.jsx)("div",{className:K.a.menuLeft,children:this.props.userName?r.splice(0,Math.ceil(r.length/2)):r}),this.props.userName&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:K.a.userBlock,children:[Object(H.jsx)("div",{className:K.a.userPhoto,children:Object(H.jsx)("img",{src:t,alt:"userPhoto"})}),Object(H.jsxs)("div",{className:K.a.userName,children:[this.props.userName,n]})]}),Object(H.jsx)("div",{className:K.a.menuRight,children:r})]})]}),this.props.isMiProfile&&Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("div",{className:K.a.photoUpload,children:[Object(H.jsx)("img",{src:X,alt:"Controls"}),Object(H.jsx)("div",{className:K.a.menuPhoto,children:Object(H.jsxs)("div",{className:U.a.block+" "+K.a.container,children:[Object(H.jsxs)("label",{className:K.a.label,children:[Object(H.jsx)("span",{className:K.a.uploadFileText,children:"Upload profile photo"}),Object(H.jsx)("input",{type:"file",onChange:this.onPhotoChange,className:K.a.uploadFileInput})]}),Object(H.jsx)("label",{children:Object(H.jsx)("span",{className:K.a.uploadFileText+" "+U.a.comingSoon,children:"Upload header photo"})})]})})]})})]})}}]),n}(x.a.Component),Z=n(21),$=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).isMiProfile=function(){return e.props.userId===e.props.miId},e.componentDidUpdate=function(){e.isMiProfile()&&e.props.status!==e.props.miStatus&&e.props.getUser(e.props.miId)},e.render=function(){return Object(H.jsx)(Y,{userName:e.props.userName,userPhoto:e.props.userPhoto,isAuth:e.props.isAuth,status:e.props.status,isMiProfile:e.isMiProfile(),setUserPhoto:e.props.setUserPhoto})},e}return n}(x.a.Component),ee=Object(a.d)(Object(E.b)((function(e){return{userName:Object(Z.e)(e),userPhoto:Object(Z.g)(e),status:Object(Z.h)(e),isAuth:Object(V.b)(e),userId:Object(Z.d)(e),miId:Object(V.e)(e),miStatus:Object(V.h)(e)}}),{getUser:i.c,setUserPhoto:s.g}),D.h)($),te=n(73),ne=n.n(te),re=function(e){return Object(H.jsx)("div",{className:ne.a.friend,children:Object(H.jsx)("img",{src:e.url,alt:"avatar"})})},ae=function(e){var t=e.friends.map((function(e){return Object(H.jsx)(re,{url:e.avatar,name:e.name},e.id)}));return Object(H.jsxs)("div",{className:U.a.block,children:[Object(H.jsx)("div",{className:U.a.blockName,children:Object(H.jsxs)("span",{className:U.a.comingSoon,children:["Friends (",e.friends.length,")"]})}),Object(H.jsx)("div",{className:ne.a.container,children:t})]})},se=Object(E.b)((function(e){return{friends:Object(Z.c)(e)}}),{})(ae),ce=n(141),ie=n.n(ce),oe=function(e){return Object(H.jsxs)("div",{className:U.a.block,children:[Object(H.jsx)("div",{className:U.a.blockName,children:"Profile Intro"}),Object(H.jsxs)("div",{className:ie.a.container,children:[Object(H.jsx)("h4",{className:"title",children:"About Me:"}),Object(H.jsx)("span",{className:"text",children:e.userProfile.aboutMe}),Object(H.jsx)("h4",{className:"title",children:"Looking for a job description:"}),Object(H.jsx)("span",{className:"text",children:e.userProfile.lookingForAJobDescription}),Object(H.jsx)("h4",{className:"title",children:"Contacts:"}),Object(H.jsx)("ul",{children:Object.entries(e.userProfile.contacts).map((function(e){var t=Object(F.a)(e,2),n=t[0],r=t[1];return r?r.toLowerCase().startsWith("http")?Object(H.jsx)("li",{children:Object(H.jsx)("a",{href:r,children:n})},n):Object(H.jsx)("li",{children:Object(H.jsx)("a",{href:"https://"+r,children:n})},n):" "}))})]})]})},ue=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(H.jsx)(oe,{userProfile:e.props.userProfile})},e}return n}(x.a.Component),le=Object(E.b)((function(e){return{userProfile:Object(Z.f)(e)}}),{})(ue),de=n(123),fe=n(97),pe=n.n(fe),je=n(142),be=n.n(je),he=function(e){var t=e.message,n=e.counts;return Object(H.jsxs)("div",{className:"".concat(be.a.item," ").concat(U.a.block),children:[Object(H.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcdS2G0_159FyiX7C5I-ed1aw2Nj_R3t1P9g&usqp=CAU",alt:"mainImage"}),t,Object(H.jsx)("div",{children:Object(H.jsxs)("span",{children:[n," Likes "]})})]})},me=n(101),Oe=n(134),ge=n(78),_e=Object(Oe.a)({form:"postMessage"})((function(e){return Object(H.jsxs)("form",{onSubmit:e.handleSubmit,className:"".concat(U.a.block," ").concat(pe.a.newPosteBlock),children:[Object(H.jsx)("h3",{children:"Add post"}),Object(ge.c)("Type new post...","postText",[],ge.b),Object(H.jsx)(me.a,{value:"Sent"})]})})),ve=function(e){var t=e.posts.map((function(e){return Object(H.jsx)(he,{message:e.message,counts:e.likesCount},e.id)})).reverse();return Object(H.jsxs)("div",{children:[Object(H.jsx)(_e,{onSubmit:function(t){e.addPost(t.postText)}}),Object(H.jsx)("div",{className:pe.a.posts,children:t})]})},xe=Object(E.b)((function(e){return{posts:Object(Z.b)(e)}}),{addPost:i.a.addPost})(ve),Ne=n(144),Se=n.n(Ne),Pe=function(){return Object(H.jsx)("div",{className:Se.a.content,children:Object(H.jsx)(xe,{})})},ke=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).refreshProfile=function(){var t=+e.props.match.params.userId||e.props.miId;e.props.getUser(t)},e.componentDidMount=function(){e.refreshProfile()},e.componentDidUpdate=function(t){e.props.match.params.userId!==t.match.params.userId&&e.refreshProfile()},e.render=function(){return Object(H.jsx)(Pe,{})},e}return n}(x.a.Component),we=Object(a.d)(Object(E.b)((function(e){return{userProfile:Object(Z.f)(e),miId:Object(V.e)(e)}}),{getUser:i.c}),D.h,de.a)(ke),Ce=n(103);var De=function(e){return function(t){return Object(H.jsx)(v.Suspense,{fallback:Object(H.jsx)("div",{children:"Loading..."}),children:Object(H.jsx)(e,Object(p.a)({},t))})}},Ee=x.a.lazy((function(){return n.e(5).then(n.bind(null,323)).then((function(e){return{default:e.LoginPage}}))})),ye=x.a.lazy((function(){return n.e(6).then(n.bind(null,329))})),Ie=x.a.lazy((function(){return n.e(9).then(n.bind(null,324))})),Ue=x.a.lazy((function(){return n.e(10).then(n.bind(null,325))})),Le=x.a.lazy((function(){return n.e(8).then(n.bind(null,326))})),Te=x.a.lazy((function(){return n.e(7).then(n.bind(null,328))})),Ae=x.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,327)).then((function(e){return{default:e.UsersPage}}))})),Be=De(Te),Fe=De(Ae),Me=De(Ee),Re=De(ye),He=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(P.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.initializeApp()},e}return Object(k.a)(n,[{key:"render",value:function(){return this.props.initialized?Object(H.jsxs)("div",{children:[Object(H.jsx)(D.b,{path:"/login",render:function(){return Object(H.jsx)(Me,{})}}),Object(H.jsxs)("div",{children:[Object(H.jsx)(W,{}),Object(H.jsxs)("div",{className:"app-wrapper",children:[Object(H.jsx)(ee,{}),Object(H.jsx)("div",{className:"app-wrapper-content",children:Object(H.jsxs)(D.d,{children:[Object(H.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(H.jsx)(D.a,{to:"/profile"})}}),Object(H.jsx)(D.b,{path:"/dialogs",render:function(){return Object(H.jsx)(Be,{})}}),Object(H.jsx)(D.b,{path:"/profile/settings",render:function(){return Object(H.jsx)(Re,{})}}),Object(H.jsx)(D.b,{path:"/profile/:userId?",render:function(){return Object(H.jsx)(we,{})}}),Object(H.jsx)(D.b,{path:"/news",render:De(Ie)}),Object(H.jsx)(D.b,{path:"/music",render:De(Le)}),Object(H.jsx)(D.b,{path:"/users",render:function(){return Object(H.jsx)(Fe,{})}}),Object(H.jsx)(D.b,{path:"/settings",render:De(Ue)})]})}),Object(H.jsxs)("div",{className:"app-wrapper-right",children:[Object(H.jsx)(le,{}),Object(H.jsx)(se,{})]})]})]})]}):Object(H.jsx)(Ce.a,{})}}]),n}(x.a.Component),ze=Object(a.d)(D.h,Object(E.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(s.c)());Promise.all([t]).then((function(){e(b())}))}}}))(He);S.a.render(Object(H.jsx)(x.a.StrictMode,{children:Object(H.jsx)(y.a,{children:Object(H.jsx)(E.a,{store:_,children:Object(H.jsx)(ze,{})})})}),document.getElementById("root")),r()},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),a={getUserProfile:function(e){return r.a.get("/profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return r.a.get("/profile/status/"+e).then((function(e){return e.data}))},setStatus:function(e){return r.a.put("/profile/status",{status:e}).then((function(e){return e.data}))},setProfileData:function(e){return r.a.put("/profile",e).then((function(e){return e.data}))},setPhoto:function(e){var t=new FormData;return t.append("image",e),r.a.put("/profile/photo",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data}))}}},35:function(e,t,n){e.exports={menu:"ProfileMenu_menu__15f_3",menuContainer:"ProfileMenu_menuContainer__29BGD",menuName:"ProfileMenu_menuName__2npTl",menuList:"ProfileMenu_menuList__3gtY6",menuLink:"ProfileMenu_menuLink__3tump",signOut:"ProfileMenu_signOut__1xqKi",statusChange:"ProfileMenu_statusChange__iQCE8"}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return j}));var r=n(9),a=n.n(r),s=n(18),c=n(49),i=n(3),o=n(41),u=n(34),l=n(30),d={posts:[{id:1,message:"Hi! It's my first post in my social network",likesCount:1},{id:2,message:"All work",likesCount:2},{id:3,message:"Some post here",likesCount:5},{id:4,message:"Short post",likesCount:0}],userProfile:{userId:null,fullName:null,aboutMe:null,lookingForAJob:!1,lookingForAJobDescription:null,photos:{small:null,large:null},contacts:{facebook:null,website:null,vk:null,twitter:null,instagram:null,youtube:null,github:null,mainLink:null}},userStatus:null,isFetching:!1},f={addPost:function(e){return{type:"ADD_POST",postText:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},setUserStatus:function(e){return{type:"SET_USER_STATUS",status:e}},setUserProfile:function(e){return{type:"SET_USER_PROFILE",userProfile:e}},setFetching:function(e){return{type:"SET_FETCHING",fetching:e}}},p=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getUserProfile(e);case 2:return r=t.sent,n(f.setUserProfile(r)),t.next=6,u.a.getStatus(e);case 6:s=t.sent,n(f.setUserStatus(s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s,c,d,p,j;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,n(f.setFetching(!0)),t.next=4,u.a.setProfileData(e);case 4:if(0!==(c=t.sent).resultCode){t.next=12;break}return t.next=8,u.a.getUserProfile(s);case 8:d=t.sent,n(l.a.setMiProfile(d)),t.next=16;break;case 12:p=new Map,j=new Map,c.messages.forEach((function(e){var t=e.slice(e.indexOf("Contacts->")+10,e.length-1).toLowerCase(),n=e.slice(0,e.indexOf("(Contacts->")-1);e.includes("Contacts->")?p.set(t,n):j.set("_error",e)})),n(Object(o.a)("ProfileInfo",Object(i.a)(Object(i.a)({},Object.fromEntries(j)),{},{contacts:Object.fromEntries(p)})));case 16:n(f.setFetching(!1));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[{id:++e.posts.length,message:t.postText,likesCount:0}])});case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.userProfile});case"SET_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.fetching});case"SET_USER_STATUS":return Object(i.a)(Object(i.a)({},e),{},{userStatus:t.status});default:return e}}},50:function(e,t,n){e.exports={inputContainer:"FormsControls_inputContainer__2Ovpx",input:"FormsControls_input__1i9a4",error:"FormsControls_error__3oS1U",errorMessage:"FormsControls_errorMessage__1xBnB",description:"FormsControls_description__2znvV"}},73:function(e,t,n){e.exports={container:"FriendsBlock_container__1pzrw",friend:"FriendsBlock_friend__1X8nA"}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(3),a=n(74),s=(n(1),n(94)),c=n(50),i=n.n(c),o=n(0),u=["meta","input"],l=function(e){return function(t){var n=t.meta,s=t.input,c=Object(a.a)(t,u),l=n.touched&&n.error;return Object(o.jsxs)("div",{className:i.a.inputContainer+" "+(l?i.a.error:""),children:[Object(o.jsx)(e,Object(r.a)(Object(r.a)(Object(r.a)({},s),c),{},{className:i.a.input})),c.description?Object(o.jsx)("span",{className:i.a.description,children:c.description}):"",l&&Object(o.jsx)("div",{className:i.a.errorMessage,children:n.error})]})}},d=l("input"),f=l("textarea");function p(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Object(o.jsx)("div",{children:Object(o.jsx)(s.a,Object(r.a)(Object(r.a)({placeholder:e,name:t,validate:n,component:a},i),{},{description:c}))})}t.d=l},97:function(e,t,n){e.exports={newPosteBlock:"MyPosts_newPosteBlock__1S_bJ"}},98:function(e,t,n){e.exports={button:"BigButton_button__17-al",cancel:"BigButton_cancel__1eqgI"}}},[[304,1,2]]]);
//# sourceMappingURL=main.3c972997.chunk.js.map